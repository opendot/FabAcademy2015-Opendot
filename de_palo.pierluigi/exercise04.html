<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Pierluigi De Palo">
    <link rel="icon" href="media/favicon.ico">

    <title>Fab Academy 2015 -Pierluigi De Palo</title>

    <!-- Bootstrap core CSS -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">

      <link href="media/Pierluigi.css" rel="stylesheet">
      
    <!-- Custom styles for this template -->
    <link href="media/fabacademy.css" rel="stylesheet">
      <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro:200,300,400,500,600,700,900' rel='stylesheet' type='text/css'>
      <link href="media/Pierluigi.css" rel="stylesheet">
      
    <!-- 3D files viewer -->
    <script type="text/javascript" src="media/jsc3d_ie.min.js"></script>
	<script type="text/javascript" src="media/jsc3d.min.js"></script>
    <script type="text/javascript" src="media/jsc3d.webgl.js"></script>
    <script type="text/javascript" src="media/jsc3d.touch.js"></script>

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="bootstrap/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="bootstrap/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <!-- Load the menu file -->
    <script>
	function menu() {
					  /*$('#exercises').load("exercises-menu.html");
					  $('#project').load("project-menu.html");*/
					  $('#cclicense').load("license.html");
					  }
	</script>

  </head>

  <body onload="menu()">

    <!-- Static navbar -->
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html">Home</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="about.html">About</a></li>
            <li class="dropdown">
        <a href="exercises-menu.html">Log Book</a>
              
            </li>
            <li>
        <a href="project-menu.html">Final Project</a>
            </li>
        <li><a href="extra.html">Extra</a></li>   
        </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    

	
        
        <!-- Insert your content here below! -->
      
       <div class="container">
           <p><font color=#fff>****************************************************************************************************************</font></p> 
        
         <ul class="pager status">
    
        <li class="previous"><a href="exercise03.html">← </a></li> 
    
        <li class="next"><a href="exercise05.html"> →</a></li>
    
        <h2><font color=#fff>ELECTRONIC PRODUCTION</font></h2>

        </ul>

      
           
        <br>
           
<h4><font color=#fff>ASSIGNMENT: MILL (LASER !) THE BOARD // STUFF IT WITH COMPONENTS // PROGRAM IT </font></h4>
           <br>
           
<h4><font color=#fff>TUTORIAL:<a href="http://fabacademy.org/archives/2015/doc/electronics_production_FabISP.html"> FAB ISP PRODUCTION TUTORIAL</a> // <a href="http://fabacademy.org/archives/2015/doc/programming_FabISP.html"> FAB ISP PROGRAMMING TUTORIAL </a> </font></h4>
           
<h4><font color=#fff>MACHINE: <a href="http://www.troteclaser.com/en-US/Laser-Machines/Compact/Pages/Speedy-100-flexx.aspx"> TROTEC SPEEDY 100 FLEXX </a></font></h4>
           
<h4><font color=#fff>SUPPORT: <a href="https://www.inventables.com/technologies/circuit-board-blanks">CIRCUIT BOARD BLANC FR-1</a> </font></h4>
         <br>
           <p><font color=#fff>****************************************************************************************************************</font></p> 
           
           
           
           
        <br>
           <h4><font color=#fff>PART 1 --> LASER ENGRAVING THE BOARD (next part in <a href="exercise06.html">week 6</a>)</font></h4>
        <br>
        <p>To create  our Fab Isp Boards here in OpenDot, instead of using the classic milling process, we try to used the TROTEC SPEEDY 100 FLEXX laser cutter machine to engrave the pcb board.<br><br>
            <p>The Trotec Speedy 100 have 2 different type of laser :
           
           <br>
           <br>
           ---> The first one is a CO2 Laser Source <br>
           
           ---> The second one is a Fiber Laser. </p>
           <br>
           <p> The Fiber Laser have a natural physic frequence, that is not reflected by the metal, like the CO2 laser source.</p>
        
           <p>So this source, give us the possibility to try to engrave the metal for doing our PCB.</p>
        
            <br><p> For more details about this process, I invite you to look the development page of our classmate <a href="http://fabacademy.org/archives/2015/eu/students/bassi.enrico/exercise04.html">Enrico Bassi</a> who is the developer of this process.</p>
           <br><br>
           
<p class="pic">
          
                <img src="Images/w4_ISP_web.jpg">
	<legend>Fab ISP Original Board File</legend>
           </p>
          
        <p class="pic">  
	<img src="Images/w4_totale_fabisp.jpg">
	<legend>My Lasered Board</legend>
            </p>
            
    
<br><br>
    
<p class="pic">
        <iframe width="960" height="540" src="https://www.youtube.com/embed/HMdX2siVev0?rel=0" frameborder="2" allowfullscreen></iframe>
	<legend>Trotec Laser Cutter Speedy 100 Flexx : Fab Academy 2015 - FabISP Engraving Test</legend>
	</p>
        <br>
           <br>
           
           
           <p class="pic">
              <img src="Images/w4_trotec%20laser%20settingPCB_crop.jpg"
                   <legend>Software Trotec Settings</legend>
                                        </p>
       
      <br><br>

              
           
              <br><br>
        
    <div class="row">
          
        <div class="col-lg-4">
                <img src="Images/w4_details_2pxline.jpg">
	<legend>2px Line Details</legend>
            </div>
             
         
        <div class="col-lg-4">
                <img src="Images/w4_depalo_50X.jpg">
	<legend>50x Zoom Details</legend>
            </div>
          
        <div class="col-lg-4">  
	<img src="Images/w4_depalo_500X.jpg">
	<legend>500x Zoom Details</legend>
            </div>
        </div>
      <br><br>
 
           <br>
    <h4><font color=#fff>--> CONCLUSIONS</font></h4>
           <br>
    <p>As you can see the process of creation of the board through laser engraving works rather well.<br>It's good but not perfect.
        
        <br> I want you all to note, that the text of my name is made with 2 pixels dimension lines </p> 
    
           <p>For the next set we will try to do 7 pass of Fiber Laser engraving</p>
           
           <br><br>

      
        <br>
        
    <h4><font color=#fff>PART 2 --> ELECTRONICS COMPONENT SOLDERING</font></h4>
      
        
           <br>
        
       <p>After download the FabISP Labeled Board, I followed the diagram for solder the components and place them on the board.</p> 
      
            <br><br>
    <div class="row">
          
        <div class="col-lg-6">
                <img src="Images/w4_hello.ISP.44_web.jpg">
	<legend>FabISP Labeled Board</legend>
            </div>
          
        <div class="col-lg-6">  
	<img src="Images/w4_Fab%20ISP%20Parts%20Layout_Web.jpg">
	<legend>FabISP Parts Layout</legend>
            </div>
        </div>
      <br><br>
    
           <p>The first step that i do, is to use solder to covered all circuit traces of my board. <br> This process is for make the solder process more simple.<br>
           It's also a process that makes the circuit bright and similar to a jewel.</p>
           
           <br><br>
           
         <div class="row">
          
        <div class="col-lg-6">
                <img src="Images/w4_costruzione_fabisp_.jpg">
	<legend>My border until the "integral traces solder process"  </legend>
            </div>
             
       
          
        <div class="col-lg-6">  
	<img src="Images/w4_costruzione5_fabisp_.jpg">
	<legend>My boadr after the "integral traces solder process"</legend>
            </div>
        </div>
            
      <br><br>
      
    <p>Subsequently I have proceeded to the assemblage of all the components, following the FabISP Labeled Board</p>
    <br>
      <ul type="square">
                <li>n. 1 ATTiny 44 microcontroller</li>
                <li>n. 1 Capacitor 1uF</li>
                <li>n. 2 Capacitor 10 pF</li>
                <li>n. 2 Resistor 100 ohm</li>
                <li>n. 1 Resistor 499 ohm</li>
                <li>n. 1 Resistor 1K ohm</li>
                <li>n. 1 Resistor 10K</li>
                <li>n. 1 6 pin header</li>
                <li>n. 1 USB connector</li>
                <li>n. 2 jumpers (1 soldering bridge and 1 0 ohm resistor)</li>
                <li>n. 1 Cystal 20MHz</li>
                <li>n. 2 Zener Diode 3.3 V</li>
                <li>n. 2 6 pin connectors</li>
            </ul>
    
      <br><br>
           
     
          
        <p class="pic">
                <img src="Images/w4_costruzione6_fabisp_.jpg_.jpg">
	<legend>Costruction In Progress</legend>
           </p>
          <br>
        <p class="pic">  
	<img src="Images/w4_Final_Fab%20ISP_1.jpg">
	<legend>Final Board</legend>
            </p>
            
     
           
    <br><br>
           
      
        <br>
        
    <h4><font color=#fff>PART 3 --> PROGRAMMING THE BOARD</font></h4>
        
           <br>
    <p>For programming a Fab ISP we need:</p>
    
    
    
    <ul type="square">
        <br>
        
        <li>Another ISP or Arduino Microcontroller</li>
        <li>Avrdude--> for programming AVR microcontrollers</li>
        <li>GCC --> to compile in C code</li>
        <li>Download the FabISP firmware from the Fab Academy Tutorial page</li>
    </ul>
    
    <br>
      
    
   <p>Connect  Arduino and FabISP following the diagram below:</p>
    
    <table class="tg" style="undefined;table-layout: fixed; width: 303px" align="center">
        <colgroup>
        <col style="width: 100px">
        <col style="width: 100px">
        <col style="width: 100px">
        </colgroup>
          <tbody><tr>
                <td class="tg-hgcj">Signal</td>
                <td class="tg-hgcj">FabISP</td>
                <td class="tg-hgcj">ArduinoUNO</td>
          </tr>
          <tr>
            <td class="tg-e3zv">MISO</td>
            <td class="tg-031e">1</td>
            <td class="tg-031e">12</td>
          </tr>
          <tr>
            <td class="tg-e3zv">VCC</td>
            <td class="tg-031e">2</td>
            <td class="tg-031e">5V</td>
          </tr>
          <tr>
            <td class="tg-e3zv">SCK</td>
            <td class="tg-031e">3</td>
            <td class="tg-031e">13</td>
          </tr>
          <tr>
            <td class="tg-e3zv">MOSI</td>
            <td class="tg-031e">4</td>
            <td class="tg-031e">11</td>
          </tr>
          <tr>
            <td class="tg-e3zv">RESET</td>
            <td class="tg-031e">5</td>
            <td class="tg-031e">10</td>
          </tr>
          <tr>
            <td class="tg-e3zv">GND</td>
            <td class="tg-031e">6</td>
            <td class="tg-031e">GND</td>
          </tr>
        </tbody></table>
    
    
    
    <br>
    <br>

    
        <p><font color=#fff>--> EDIT THE MAKEFILE</font></p>
    
    <p>Once connected the two boards, we need edit the Makefile : once opened, like a text file, remove the "#" in the line with "usbtiny" and add a "#" in the line with the "avrisp2" </p>
    
    
    <br>
    
    
           <pre style="background-color: black;color: white">
               
               "..........
DEVICE  = attiny44
#F_CPU   = 12000000	# edit this line for crystal speed, in Hz
F_CPU   = 20000000	# edit this line for crystal speed, in Hz
FUSE_L  = 0xFF
FUSE_H  = 0xDF
AVRDUDE = avrdude -c usbtiny -p $(DEVICE) # edit this line for your programmer
#AVRDUDE = avrdude -c avrisp2 -P usb -p $(DEVICE) # edit this line for your programmer
        ........."</pre>
               
          <br>
           <br>
      
           
               
          
           
           
    <p><font color=#fff>--> MAKE CLEAN /// MAKE HEX // MAKE COMMAND // SUDO MAKE FUSE// SUDO MAKE COMMAND </font></p>

    
           <p> Open the terminal and go to the directory where you put the firmware file : compile the firmware using the follow commands :</p>
    
           <br>
<br>
    <p><font color=#fff>--> MAKE CLEAN</font></p>
    
       <pre style="background-color: black;color: white">
           Pierluigi-MacBook-Pro:fabISP_mac.0.8.2_firmware Pierluigi$ make clean

rm -f main.hex main.lst main.obj main.cof main.list main.map main.eep.hex main.elf *.o usbdrv/*.o main.s usbdrv/oddebug.s usbdrv/usbdrv.s

    </pre>
    
    
    <br>
    <br>
    
    <p><font color=#fff>--> MAKE HEX</font></p>
           <pre style="background-color: black;color: white">
               Pierluigi-MacBook-Pro:fabISP_mac.0.8.2_firmware Pierluigi$ make hex

rm -f main.hex main.lst main.obj main.cof main.list main.map main.eep.hex main.elf *.o usbdrv/*.o main.s usbdrv/oddebug.s usbdrv/usbdrv.s

Pierluigi-MacBook-Pro:fabISP_mac.0.8.2_firmware Pierluigi$ make hex

avr-gcc -Wall -Os -DF_CPU=20000000	-Iusbdrv -I. -DDEBUG_LEVEL=0 -mmcu=attiny44 -c usbdrv/usbdrv.c -o usbdrv/usbdrv.o

avr-gcc -Wall -Os -DF_CPU=20000000	-Iusbdrv -I. -DDEBUG_LEVEL=0 -mmcu=attiny44 -x assembler-with-cpp -c usbdrv/usbdrvasm.S -o usbdrv/usbdrvasm.o

avr-gcc -Wall -Os -DF_CPU=20000000	-Iusbdrv -I. -DDEBUG_LEVEL=0 -mmcu=attiny44 -c usbdrv/oddebug.c -o usbdrv/oddebug.o

avr-gcc -Wall -Os -DF_CPU=20000000	-Iusbdrv -I. -DDEBUG_LEVEL=0 -mmcu=attiny44 -c main.c -o main.o

main.c:88:13: warning: always_inline function might not be inlinable [-Wattributes]

 static void delay ( void )

             ^

avr-gcc -Wall -Os -DF_CPU=20000000	-Iusbdrv -I. -DDEBUG_LEVEL=0 -mmcu=attiny44 -o main.elf usbdrv/usbdrv.o usbdrv/usbdrvasm.o usbdrv/oddebug.o main.o

rm -f main.hex main.eep.hex

avr-objcopy -j .text -j .data -O ihex main.elf main.hex

avr-size main.hex

   text	  data	    bss	    dec	    hex	filename

      0	  1988	      0	  1988	    7c4	main.hex
           </pre>
           
           
           
           <br>
           <br>
    

 
           <br>
            <p><font color=#fff>--> SUDO MAKE FUSE</font></p>
           <pre style="background-color: black;color: white">
               Pierluigi-MacBook-Pro:fabISP_mac.0.8.2_firmware pierluigi$ sudo make fuse

avrdude -c stk500v1 -P /dev/tty.usbmodem1421 -b19200 -p attiny44 -U hfuse:w:0xDF:m -U lfuse:w:0xFF:m



avrdude: AVR device initialized and ready to accept instructions



Reading | ################################################## | 100% 0.05s



avrdude: Device signature = 0x1e9207

avrdude: reading input file "0xDF"

avrdude: writing hfuse (1 bytes):



Writing | ################################################## | 100% 0.02s



avrdude: 1 bytes of hfuse written

avrdude: verifying hfuse memory against 0xDF:

avrdude: load data hfuse data from input file 0xDF:

avrdude: input file 0xDF contains 1 bytes

avrdude: reading on-chip hfuse data:



Reading | ################################################## | 100% 0.02s



avrdude: verifying ...

avrdude: 1 bytes of hfuse verified

avrdude: reading input file "0xFF"

avrdude: writing lfuse (1 bytes):



Writing | ################################################## | 100% 0.02s



avrdude: 1 bytes of lfuse written

avrdude: verifying lfuse memory against 0xFF:

avrdude: load data lfuse data from input file 0xFF:

avrdude: input file 0xFF contains 1 bytes

avrdude: reading on-chip lfuse data:



Reading | ################################################## | 100% 0.02s



avrdude: verifying ...

avrdude: 1 bytes of lfuse verified



avrdude: safemode: Fuses OK (E:FF, H:DF, L:FF)



avrdude done.  Thank you.

</pre>
           <br>
    
    <p><font color=#fff>--> SUDO MAKE PROGRAM</font></p>
    <pre style="background-color: black;color: white">
               Pierluigi-MacBook-Pro:fabISP_mac.0.8.2_firmware pierluigi$ sudo make program

avrdude -c stk500v1 -P /dev/tty.usbmodem1421 -b19200 -p attiny44 -U flash:w:main.hex:i



avrdude: AVR device initialized and ready to accept instructions



Reading | ################################################## | 100% 0.05s



avrdude: Device signature = 0x1e9207

avrdude: NOTE: "flash" memory has been specified, an erase cycle will be performed

         To disable this feature, specify the -D option.

avrdude: erasing chip

avrdude: reading input file "main.hex"

avrdude: writing flash (1988 bytes):



Writing | ################################################## | 100% 3.41s



avrdude: 1988 bytes of flash written

avrdude: verifying flash memory against main.hex:

avrdude: load data flash data from input file main.hex:

avrdude: input file main.hex contains 1988 bytes

avrdude: reading on-chip flash data:



Reading | ################################################## | 100% 2.26s



avrdude: verifying ...

avrdude: 1988 bytes of flash verified



avrdude: safemode: Fuses OK (E:FF, H:DF, L:FF)



avrdude done.  Thank you.



avrdude -c stk500v1 -P /dev/tty.usbmodem1421 -b19200 -p attiny44 -U hfuse:w:0xDF:m -U lfuse:w:0xFF:m



avrdude: AVR device initialized and ready to accept instructions



Reading | ################################################## | 100% 0.05s



avrdude: Device signature = 0x1e9207

avrdude: reading input file "0xDF"

avrdude: writing hfuse (1 bytes):



Writing | ################################################## | 100% 0.02s



avrdude: 1 bytes of hfuse written

avrdude: verifying hfuse memory against 0xDF:

avrdude: load data hfuse data from input file 0xDF:

avrdude: input file 0xDF contains 1 bytes

avrdude: reading on-chip hfuse data:



Reading | ################################################## | 100% 0.02s



avrdude: verifying ...

avrdude: 1 bytes of hfuse verified

avrdude: reading input file "0xFF"

avrdude: writing lfuse (1 bytes):



Writing | ################################################## | 100% 0.02s



avrdude: 1 bytes of lfuse written

avrdude: verifying lfuse memory against 0xFF:

avrdude: load data lfuse data from input file 0xFF:

avrdude: input file 0xFF contains 1 bytes

avrdude: reading on-chip lfuse data:



Reading | ################################################## | 100% 0.02s



avrdude: verifying ...

avrdude: 1 bytes of lfuse verified



avrdude: safemode: Fuses OK (E:FF, H:DF, L:FF)



avrdude done.  Thank you.</pre>
           
           <br>
    <br>
    
    <ul class="pager status">
    
        <li class="previous"><a href="exercise03.html">← </a></li> 
    
        <li class="next"><a href="exercise05.html"> →</a></li>
    
        <h2><font color=#fff>ELECTRONIC PRODUCTION</font></h2>

        </ul>
           
           
           
    <!-- End of your content -->

    </div> <!-- /container -->

	<!-- footer -->
    
    <footer id="footer">
       
        <p class="license">
        <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a> <br><br /><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Photogrammetric Fab Scanner</span> <br> by <br> <a xmlns:cc="http://creativecommons.org/ns#" href="www.pierluigidepalo.com" property="cc:attributionName" rel="cc:attributionURL"> Pierluigi De Palo </a> <br> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a><br>
            Theme: <a href="https://github.com/openp2pdesign/FabAcademy_Template">Fab Academy Template</a> by <a href="http://openp2pdesign.org">Massimo Menichinelli</a>
        </p>
    </footer>
    

	<!-- Do not touch this! -->
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="media/jquery-1.9.1.min.js"></script>
    
    <!-- Syntax Highlighter -->
    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js">
    </script>
    <!-- From https://github.com/jmblog/color-themes-for-google-code-prettify -->
    <link href="media/github.css" type="text/css" rel="stylesheet">
	<script type="text/javascript">
	  !function ($) {
		$(function(){
		  window.prettyPrint && prettyPrint()   
		})
	  }(window.jQuery)
	</script>
	
    <script src="bootstrap/js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="bootstrap/js/ie10-viewport-bug-workaround.js"></script>

  </body>
</html>

