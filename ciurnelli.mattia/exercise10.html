<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mattia Ciurnelli">
    <link rel="icon" href="media/favicon.ico">

    <title>Fab Academy 2015 - Mattia Ciurnelli</title>

    <!-- Bootstrap core CSS -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="media/fabacademy.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Rationale|Megrim|Maven+Pro' rel='stylesheet' type='text/css'>
    <link href="media/Mattia.css" rel="stylesheet">
      
    <!-- 3D files viewer -->
    <script type="text/javascript" src="media/jsc3d_ie.min.js"></script>
	<script type="text/javascript" src="media/jsc3d.min.js"></script>
    <script type="text/javascript" src="media/jsc3d.webgl.js"></script>
    <script type="text/javascript" src="media/jsc3d.touch.js"></script>

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="bootstrap/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="bootstrap/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <!-- Load the menu file -->
    <script>
	function menu() {
					  $('#exercises').load("exercises-menu.html");
					  $('#project').load("project-menu.html");
					  $('#cclicense').load("license.html");
					  $('#cclicense').load("license.html");
					  }
	</script>

  </head>

  <body onload="menu()">

    <!-- Static navbar -->
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <strong><a class="navbar-brand" href="index.html">Mattia Ciurnelli</a></strong>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="about.html">About</a></li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Exercises <span class="caret"></span></a>
              <ul id="exercises" class="dropdown-menu" role="menu">
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Final Project <span class="caret"></span></a>
              <ul id="project" class="dropdown-menu" role="menu">
              </ul>
            </li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">

	<!-- Insert your content here below! -->
        <div class="jumbotron">
    <div class="page-header">
  <h1><u> Lesson n. 10:</u><h2>Input Devices</h2></h1>
</div>

	<p>The Input Devices assignment is to measure something, adding a sensor to a microcontroller board that you've designed, and read it.</p>
            <h3>The Microcontroller Board</h3>
            <p>For the exercise of this week, I and some my classmates, we used an improved version of FabKit by Daniele Ingrassia, the SatshaKit.</p>
             <p class="pic"><img src= "Image/Lesson10/SatshaKit.jpg" class="img-responsive" alt="Responsive image"></p>
            <p>........
            .......
            .......
            ......</p>
            
            
            <h3>The Sensor</h3>
            <p>For the input device assignment, i decided to work with a possible sensor for the final project: the <a href="http://www.drotek.fr/shop/en/home/62-imu-10dof-mpu6050-hmc5883-ms5611.html">IMU 10DOF by Drotek</a>.<br>
                This sensor integrates MPU6050 gyro + accelerometer, HMC5883L magnetometer and MS5611 altimeter. This type of IMU is widely used in drones as it has all the equipment for the control of the flight, but in my case what interests me is the only part of the accelerometer and gyroscope.</p>
             <p class="pic"><img src= "Image/Lesson10/imu10dof.jpg" class="img-responsive" alt="Responsive image"></p>
            <h3>Software</h3>
            <p>To communicate with the sensor and read data from it, I used the MultiWii.<br><a href="http://www.multiwii.com/">MultiWii</a> is an open source software project aiming to provide the brain of a RC controlled multi rotor flying platform. It is compatible with several hardware boards and sensors.</p>
            <p>One of the strengths of MultiWii is its GUI, who provide to the  graphical visualization of sensors, motors and RC signal.</p>
            <p class="pic"><img src= "Image/Lesson10/MultiWiiGUI" class="img-responsive" alt="Responsive image"></p>
            <p>On the <a href="https://code.google.com/p/multiwii/#Download">Google code page of the MultiWII</a> you can download the lastest version (I used the version 2.4), which includes the GUI (for each OS) and files to be loaded into the microcontroller.</p>
            <p>In the .zip file that you download from the site, there are two folders:</p>
            <ul type="square">
            <li>MultiWii, which contain the program that you have to upload on the microcontroller;</li>
                <li>MultiWiiConf, which contain the GUI for each operating system.</li></ul>
            
            <h3>Program the Microcontroller</h3>
            <p>First of all, after soldering the components on the Satshakit board, you have to load the bootloader via the Arduino IDE. To do this, you have to connect the board to FabISP using only the following pins: RESET, SCK, MOSI and MISO. Before writing the bootloader on the board, make sure you give it the power using the FTDI cable.</p>
            <p class="pic"><img src= "Image/Lesson10/programmingSatshaKit.jpg" class="img-responsive" alt="Responsive image"></p>
            <p>After connecting the board with FabISP, open the Arduino IDE, select "Arduino Uno" as a board and "USBtinyISP" as a programmer and then we can press "burn the bootloader".</p>
            <iframe width="420" height="315" src="https://www.youtube.com/embed/eN_27hET2PM?rel=0" frameborder="0" allowfullscreen></iframe><br>
            <p>Once wrote the bootloader, we can move to import in our board's program MultiWii. Also through the Arduino IDE, open the file "MultiWII.ino" located in the folder MultiWii.</p>
            <p>Before uploading the program you have to edit the file "config.h" to configure the program for use it whit the IMU 10DOF. In the file you have to uncomment 2 line:</p>
            <ul type="square">
            <li>#define QUADX</li>
            <li>#define DROTEK_10DOF_MPU//</li></ul>
            <p class="pic"><img src= "Image/Lesson10/editconfigfile1.jpg" class="img-responsive" alt="Responsive image"></p>
            <p class="pic"><img src= "Image/Lesson10/editconfigfile2.jpg" class="img-responsive" alt="Responsive image"></p>
            <p>After do this the program is ready to be uploaded in the microcontroller (always using the FabISP).</p>
            <p class="pic"><img src= "Image/Lesson10/UploadMultiWII.jpg" class="img-responsive" alt="Responsive image"></p>
            <p>After programming the board you have to disconnect it from the FabISP and connect the IMU 10DOF to it. A useful thing is to keep open the datasheet of the ATmega328 to check the name of the pins.</p>
            <p class="pic"><img src= "Image/Lesson10/PinoutATMega328.jpg" class="img-responsive" alt="Responsive image"></p>
                <p>Connect the TX and RX pins of the board to the corresponding pins on the FTDI cable.</p>
            <p>Connect the SDA and SCL pins on the board to the corresponding pins on the IMU 10DOF.</p>
            <p>Once connected the IMU to the board, connect the FTDI cable to the computer and open the GUI MultiWii, select the FTDI port and press start: if connections were made in the right way you should receive the data of the IMU directly on pc.</p>
            <iframe width="420" height="315" src="https://www.youtube.com/embed/vfsIAyyM5x4?rel=0" frameborder="0" allowfullscreen></iframe><br>
            <p class="pic"><img src= "Image/Lesson10/MultiWIItest1.jpg" class="img-responsive" alt="Responsive image"></p>
            <p class="pic"><img src= "Image/Lesson10/MultiWIItest2.jpg" class="img-responsive" alt="Responsive image"></p>
            
        </div>
    <!-- End of your content -->

    </div> <!-- /container -->

	<!-- footer -->
    
    <footer id="footer">
        <p id="cclicense">
        </p>
        <p class="license">
        Theme: <a href="https://github.com/openp2pdesign/FabAcademy_Template">Fab Academy Template</a> by <a href="http://openp2pdesign.org">Massimo Menichinelli</a> <br>
        Based on <a href="http://getbootstrap.com/">Twitter Bootstrap</a>+<a href="http://jquery.com/">JQuery</a>+<a href="https://code.google.com/p/google-code-prettify/">google-code-prettify</a>+<a href="http://jmblog.github.io/color-themes-for-google-code-prettify/github/">GitHub theme for google-code-prettify</a>+<a href="https://code.google.com/p/jsc3d/">JSC3D</a>+<a href="https://github.com/thegrubbsian/jquery.ganttView">jquery.ganttView</a>.
        </p>
    </footer>
    

	<!-- Do not touch this! -->
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="media/jquery-1.9.1.min.js"></script>
    
    <!-- Syntax Highlighter -->
    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js">
    </script>
    <!-- From https://github.com/jmblog/color-themes-for-google-code-prettify -->
    <link href="media/github.css" type="text/css" rel="stylesheet">
	<script type="text/javascript">
	  !function ($) {
		$(function(){
		  window.prettyPrint && prettyPrint()   
		})
	  }(window.jQuery)
	</script>
	
    <script src="bootstrap/js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="bootstrap/js/ie10-viewport-bug-workaround.js"></script>

  </body>
</html>
