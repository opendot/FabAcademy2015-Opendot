<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Enrico Bassi">
    <link rel="icon" href="media/favicon.ico">

    <title>Fab Academy 2015 - Enrico Bassi</title>

    <!-- Bootstrap core CSS -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="media/fabacademy.css" rel="stylesheet">
    <link href="media/eb.css" rel="stylesheet">
    
    <!-- 3D files viewer -->
    <script type="text/javascript" src="media/jsc3d_ie.min.js"></script>
	<script type="text/javascript" src="media/jsc3d.min.js"></script>
    <script type="text/javascript" src="media/jsc3d.webgl.js"></script>
    <script type="text/javascript" src="media/jsc3d.touch.js"></script>

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="bootstrap/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="bootstrap/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <!-- Load the menu file -->
    <script>
	function menu() {
					  $('#exercises').load("exercises-menu.html");
					  $('#project').load("project-menu.html");
					  $('#cclicense').load("license.html");
					  }
	</script>

  </head>

  <body onload="menu()">

    <!-- Static navbar -->
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html">Enrico Bassi</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="about.html">About</a></li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Exercises <span class="caret"></span></a>
              <ul id="exercises" class="dropdown-menu" role="menu">
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Final Project <span class="caret"></span></a>
              <ul id="project" class="dropdown-menu" role="menu">
              </ul>
            </li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">

	<!-- Insert your content here below! -->


     <h2>10. Input Devices</h1>
     
    <h3>Intro</h3>
      <p>        I decided to organize the two exercise "input" and "output" together, to make a board we will use in a project.<br>
        This week I'll make a first version of the board, using a temperature sensor as an input and an LED as an output. the LED is connected to the pin 13, as well as the mosfet that will power the output (an heating pad).<br>
        Because of this structure the two exercise must be analized together, to find all the material requested.<br>
        </p>  
    <h3>Project</h3>
	<p>

In Opendot we have three different user groups, one of there is focused on food (from cooking to events). During the next two weeks I'll try to design the electronic board for a yogurt maker.
        <br> The project we are developing in the user group is the "universal kitchen cabinet", designed to be digitally fabricated and fully customizable. Each drawer has a different funcion based on the interest of the user, for instance it could keep a certain temperature to rise the dough, make yougurt, it could water sprouts or it could dry fruits and vegetables. WE decided to start with the yougurt maker.
        <br> Here a sketch that describe it
        <img src="images/yogurt.JPG" alt="sketch">
        </p>
        <h3>Components</h3>
	<p>
The main component are these:
         <ul style="list-style-type:disc">
            <li>Microcontroller</li>
             <li>Termistor</li>
             <li>Trigger</li>
             <li>Tension regolator</li>
             <li>Mosfet</li>
             <li>Heating pads</li>
</ul>
        Here the complete BOM for the board:
        <pre class="prettyprint linenums">
	Part      Value               Device             Package       Library              Sheet

C1        22pF                  0612ZC225MAT2A        CAPC3216X178N AVX_By_element14_Batch_1    1
C2        22pF                  0612ZC225MAT2A        CAPC3216X178N AVX_By_element14_Batch_1    1
C3        10uF                  CAP1206               1206          01_SparkFun                 1
C4        1uF                   CAP1206               1206          01_SparkFun                 1
C5        100pF                 CAP1206               1206          01_SparkFun                 1
CRYSTAL   16Mhz                 CSM-7X-DU             CSM-7X-DU     01_FAB_Hello                1
IC1       LM50                  LM50                  SOT23         linear                      1
IC2       5V                    V_REG_78XXSIDE        78XXL         01_SparkFun                 1
LED_13    RED                   LED1206               1206          01_FAB_Hello                1
LED_PWR   GREEN                 LED1206               1206          01_FAB_Hello                1
MICRO     ATMEGA328P-AU         ATMEGA48/88/168-AU    TQFP32-08     atmega8                     1
R1        10k                   RESISTOR1206          1206          01_SparkFun                 1
R2        499                   RESISTOR1206          1206          01_SparkFun                 1
R3        499                   RESISTOR1206          1206          01_SparkFun                 1
R4        10k                   TRIM_US-SM-42/43X     SM-42/43X     pot                         1
SWITCH                          6MM_SWITCH6MM_SWITCH  6MM_SWITCH    01_FAB_Hello                1
MOSFET    NCHANNEL-SOIC8        MOSFET-NCHANNEL-SOIC8 SO08          01_SparkFun                 1
</pre>
        Being designed to be integrated in an object the idea was to have temporary connections to MOSI, MISO, SCK, Reset, Tx and Rx just to programm and debug it. After this alle the connection should be removed. The power supply will be soldered as well.
<br> The only extra components not listed in the BOM are the pins for the connections (because they' are temporary), the power supply (12V - min 1,5A), and the heated pads (I used a 10W pads).    </p>
      <br>
      
  <h3>First test</h3>
	<p>
The first board wasn't particularly optimized and I made a lot of mistakes. 
<br> Here the eagle file:
  <br>      
<a href="media/yogurt_V1.zip">
             <button type="button" class="btn btn-primary btn-lg">Download "Yogurt maker V1"</button> </a>
    </p>
      
    <h3>Debugging</h3>
    <p>  
    This is the first version of the board after the debugging
        <br>
        <img src="images/debug_v1_0.jpg" alt"debug V1">
        <br>
        Let's check all the mistakes done:
    <br> <strong>1. Trigger package</strong>
        <br>
        <img src="images/debug_v1_5.jpg" alt="trigger package">
        I picked up the wrong package of the trigger, so to be able to test it I had to rotate it and bend a little bit the connections. In the end it worked like this.
        <br><br>
        <strong>2. Current regulator vs. Tension regulator</strong>
        <br>
        <img src="images/debug_v1_4.jpg" alt="current regulator">
        I bought by mistake a current regulator instead of a tension regulator. In the schematic It was connected in a different way, so when I pluged in the board it became so warm that it melted the solder. After that I double checked the datasheet and I realized I switched GND and VOut. <br>
        To this point I haven't noticed yet it was the wrong component, so I went on to trying to fix it. I rotate it untill the GND get to the back part of the component (also connected to the ground) and the VOut to a place where it was easy to bridge it to the proper connector. At this point I tested the output with the multimeter, the result was 8V, enough to fry the microcontroller. I decide to go on to complete the debug, so i used a couple of temporary connectors to power properly the board.
        <br><br>
        <strong>3. Mosfet</strong>
        <br>
        <img src="images/debug_v1_2.jpg" alt="mosfet">
        After soldering the mosfet I tested the connections and I noticed there was something wrong, it seemed a shortcircuit. Double checking the scheatic I realized I connected it completely wrong.
        <img src="images/mosfet.gif" alt="wrong mosfet schematic">
        So, I desoldered it and moved to keep the Gate not connected to anything. After that I bridged it to the right pin.
        <br><br>
        <strong>3. MISO</strong>
        <br>
        <img src="images/debug_v1_7.jpg" alt="MISO">
        While i was plugging the board to try to programm it I realize I connected in the schematic the wrong pin to the MISO. So I had to cut the trace and bridged it to the right pin.
        <br>
        <h3>Tests</h3>
      Because of the mistakes with the tension regulator, i burned the microcontroller and I was uncapable to upload any programm. The code uploaded, the sensor's test, the debugging and the calibration are in the <a href="11output.html">next exercise's page</a>.
        
        <h3>Conclusion</h3>
        <br>
        Beside the debugging, when i tryed to connect it and programm it, the arduino IDE gave me the message that it was impossible to upload the code. So i decide to fix all the mistakes in the schematic and make a V2.
        <br> I also realize it's a bad idea to buy components at 3.40 a.m. and design electronics boards during the night.   
	</p>
      
      
     

    <!-- End of your content -->

    </div> <!-- /container -->

	<!-- footer -->
    
    <footer id="footer">
        <p id="cclicense">
        </p>
        <p class="license">
        Theme: <a href="https://github.com/openp2pdesign/FabAcademy_Template">Fab Academy Template</a> by <a href="http://openp2pdesign.org">Massimo Menichinelli</a> <br>
        Based on <a href="http://getbootstrap.com/">Twitter Bootstrap</a>+<a href="http://jquery.com/">JQuery</a>+<a href="https://code.google.com/p/google-code-prettify/">google-code-prettify</a>+<a href="http://jmblog.github.io/color-themes-for-google-code-prettify/github/">GitHub theme for google-code-prettify</a>+<a href="https://code.google.com/p/jsc3d/">JSC3D</a>+<a href="https://github.com/thegrubbsian/jquery.ganttView">jquery.ganttView</a>.
        </p>
    </footer>
    

	<!-- Do not touch this! -->
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="media/jquery-1.9.1.min.js"></script>
    
    <!-- Syntax Highlighter -->
    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js">
    </script>
    <!-- From https://github.com/jmblog/color-themes-for-google-code-prettify -->
    <link href="media/github.css" type="text/css" rel="stylesheet">
	<script type="text/javascript">
	  !function ($) {
		$(function(){
		  window.prettyPrint && prettyPrint()   
		})
	  }(window.jQuery)
	</script>
	
    <script src="bootstrap/js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="bootstrap/js/ie10-viewport-bug-workaround.js"></script>

  </body>
</html>
