<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Final Project - Claudio Pecere - Fab Academy 15</title>

    <!-- Bootstrap Core CSS - Uses Bootswatch Flatly Theme: http://bootswatch.com/flatly/ -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/freelancer.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>
    <body id="page-top" class="index">

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#page-top">Final Project</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                   <li class="page-scroll">
                        <a href= index.html>Home Page</a>
                    </li>
                  
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

    <!-- Header -->
    
    
    <!-- Final Project Phases -->
    <section id="portfolio">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2></h2>
                <br> <br>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-4 portfolio-item">
                    <a href="#phase1" class="portfolio-link" data-toggle="modal">
                        <div class="caption">
                            <div class="caption-content">
                                <i class="fa fa-1x">Concept Idea</i>
                            </div>
                        </div>
                        <img src="img/imgclassesindex/finalproject.jpg" class="img-responsive" alt="">
                    </a>
                </div>
                <div class="col-sm-4 portfolio-item">
                    <a href="#phase2" class="portfolio-link" data-toggle="modal">
                        <div class="caption">
                            <div class="caption-content">
                                <i class="fa fa-1x">3D Design and printing</i>
                            </div>
                        </div>
                        <img src="img/imgclassesindex/finalproject2.jpg" class="img-responsive" alt="">
                    </a>
                </div>
                <div class="col-sm-4 portfolio-item">
                    <a href="#phase3" class="portfolio-link" data-toggle="modal">
                        <div class="caption">
                            <div class="caption-content">
                                <i class="fa fa-1x">Design and making board</i>
                            </div>
                        </div>
                        <img src="img/imgclassesindex/finalproject3.jpg" class="img-responsive" alt="">
                    </a>
                </div>
                
                <div class="col-sm-4 portfolio-item">
                    <a href="#phase4" class="portfolio-link" data-toggle="modal">
                        <div class="caption">
                            <div class="caption-content">
                                <i class="fa fa-1x">Programming Board</i>
                            </div>
                        </div>
                        <img src="img/imgclassesindex/finalproject5.jpg" class="img-responsive" alt="">
                    </a>
                </div>
                <div class="col-sm-4 portfolio-item">
                    <a href="#phase5" class="portfolio-link" data-toggle="modal">
                        <div class="caption">
                            <div class="caption-content">
                                <i class="fa fa-1x">Application Interface</i>
                            </div>
                        </div>
                        <img src="img/imgclassesindex/finalproject7.jpg" class="img-responsive" alt="">
                    </a>
                </div>
                <div class="col-sm-4 portfolio-item">
                    <a href="#phase6" class="portfolio-link" data-toggle="modal">
                        <div class="caption">
                            <div class="caption-content">
                                <i class="fa fa-1x">Final Results - extra contents</i>
                            </div>
                        </div>
                        <img src="img/imgclassesindex/classes18.jpg" class="img-responsive" alt="">
                    </a>
                </div>
                 <div class="col-sm-4 portfolio-item">
                
                </div>
            </div>
        </div>
     
            </div>
        </div>

            </div>
        </div>
         
            </div>
        </div>
         </section>
        
 <!-- Portfolio Modals -->
   <!--Concept Idea --> <div class="portfolio-modal modal fade" id="phase1" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>Concept Idea</h2>
                            <hr class="star-primary">
                           <p>After thought a lot to the last step of the Fab Academy and thinking of projects very different and very complex, I finally focused on the usefulness of a final project for me, something that was in line with my interests and it was challenging to achieve but at the same time simple and functional. The final project was born, then, from the passion for plants and the need to manage some bonsai I have at home which unfortunately I can not devote much time. The right opportunity is the Fab Academy who gave me many skills and knowledge of digital fabrication and I completely beginner in each technique, I have tried to carry out a project simple and functional, and that would make me proud of what I did. <br> The idea of the project was shared with my colleague Youssef Bouali but it is the only step that we thought together. The rest of the project was developed ENTIRELY by me, by producing MOPOS following the suggestions of Neil and the rules of the final project.</p>
                            <img src="img/fp1.jpg" class="img-responsive img-centered" alt="">
                            <p>The project consists of a system of modular pots designed by me, that is connected a system controlled by an electronic board of my design and fabrication that controls three main sensors:
                                <li align="justify"> Soil Moisture Sensor</li>
                <li align="justify">External Humidity Sensor</li>
                <li align="justify">External Temperature Sensor</li>
                <br><p>The board has been programmed to detect the sensor data, display them via an external display and process them to pack a single parameter that indicates when the plant needs water. To this is added an application, an interface in C ++, that can show the final results (which in the future , and with more time I would also add a web app), and a housing for the board made of silicone rubber obtained in a "craft" way through a cardboard box and a rubber tube. <br> On the following pages the process of realization of MOPOS will be explained in detail , and will be provided all the files needed for its replication</p>
                          
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
        
  <!--3D Design and printing --> <div class="portfolio-modal modal fade" id="phase2" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>3D Design and printing</h2>
                            <hr class="star-primary">
                           <p>The idea has always been to create modular objects, especially as it comes to produce pots for domestic use. Looking on the web I saw many other projects with modular pots but did not like the idea to fit together the pieces and make them modular but always rigid format. I liked the idea of pots to keep at home, beautiful to look at and usable and adaptable as needed. So I started working on Rhino a polygonal shape that featured two different figures that were united with each other.</p>
                            <img src="img/fp2.1.jpg" class="img-responsive img-centered" alt="">
                            <p>Then I extruded surface along a tapered curve to give an angle that would allow me to have an object from the bottom closer than the top. After extruded I made a hole in the object with the distances that I had decided through a boulean difference with an object 20% smaller. So I got the first form of my pot. <br> <img src="img/fp2.2.jpg" class="img-responsive img-centered" alt=""><img src="img/fp2.3.jpg" class="img-responsive img-centered" alt=""> <br> To achieve the second type I started from the first object but solid and filled and I flipped it, I then created a new object of 20% smaller and with the difference boulean I just created the second geometry. I obtained two types of pots, with simple design but nice and be moved towards in several positions and especially replicable and adaptable to the desired quantity. The pots are now ready to be printed!<img src="img/fp2.7.jpg" class="img-responsive img-centered" alt=""> <img src="img/fp2.6.jpg" class="img-responsive img-centered" alt=""> <br> I printed the pots with PLA of 1.75mm initially with a Sharebot NG 1EX. Then there were some problems with a failed fan, and so I continued printing the other pots with a Prusa i3 Hephestoes. To create the GCode, I used CURA, changing according to my needs time settings infill. The following are pictures of CURA and the first stages of printing on Sharebot<img src="img/fp2.8.jpg" class="img-responsive img-centered" alt=""><img src="img/fp2.9.jpg" class="img-responsive img-centered" alt="">After about 4 hours for each pots, this is the final and satisfactory result: <img src="img/fp2.11.jpg" class="img-responsive img-centered" alt=""><img src="img/fp2.10.jpg" class="img-responsive img-centered" alt=""><img src="img/fp2.12.jpg" class="img-responsive img-centered" alt=""></p> <p> 3D files of pots are available for download here: </p>
      <p> <a href="media/pots_finalproject.stl.zip"> <button type="button" class="btn btn-primary
            btn-lg">Download files</button> </a> </p>
                          
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<!--Design and Making Board -->    <div class="portfolio-modal modal fade" id="phase3" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>Design and Making Board</h2>
                            <hr class="star-primary">
                            <p>The Board of Mopos is a customization of a microcontroller manufacturable within any Fab Lab. The starting point for producing my board was in fact the <a href="http://fabacademy.org/archives/2015/doc/projects/satshakit/satshakit.html">Satshakit</a> conceived by my colleague <a href="http://fabacademy.org/archives/2015/eu/students/ingrassia.daniele/index.html">Daniele Ingrassia</a>. I initially used the original board for my final project, but then after the suggestion of Neil during the presentation of the project, I modified the Satshakit according to project requirements.
Starting from this type of microcontroller with Eagle I modified the design by adding pins for the various input sensors and for the display of the output for use with Mopos. These are, firt the starting Satshakit and then the details of the changes: <img src="img/fp3.1.jpg" class="img-responsive img-centered" alt=""><img src="img/fp3.1%202.jpg" class="img-responsive img-centered" alt=""><img src="img/fp3.2.jpg" class="img-responsive img-centered" alt=""><img src="img/fp3.3.jpg" class="img-responsive img-centered" alt=""> <br> And these are the details of the pins: <img src="img/fp3.4.jpg" class="img-responsive img-centered" alt="">
                            <p>Formaking the board I used a <a href="http://www.troteclaser.com/it-IT/Macchine-Laser/Medio/Pages/Speedy400flexx.aspx">Trotec Speedy 400 flexx</a> to engrave the board, this machine has both CO2 and fiber laser technologies: 60 watt CO2 laser, 30 watt fiber laser. <a href="http://fabacademy.org/archives/2015/doc/fiber-laser-cutting-pcb.html">Here</a> you can find the description of the process and experiments done in the lab on machinery.</p><p>These are some pictures of the making and soldering phases</p>
                             <img src="img/fp3.7.jpg" class="img-responsive img-centered" alt="">
                             <img src="img/fp3.6.jpg" class="img-responsive img-centered" alt=""> <img src="img/fp3.5.jpg" class="img-responsive img-centered" alt="">
           <p>After finished soldering, i followed the instruction published of Satshakit page for load the bootloader with Arduino IDE and starting to programming the board</p>   <img src="img/fp3.9.jpg" class="img-responsive img-centered" alt="">               
         <p> Files Eagle are available for download here: </p>
      <p> <a href="media/eagle.zip"> <button type="button" class="btn btn-primary
            btn-lg">Download files</button> </a> </p>
                            <br><button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<!--Programming Board --> <div class="portfolio-modal modal fade" id="phase4" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>Programming Board</h2>
                            <hr class="star-primary">

                           <p> Once assembled the board with all the parts specified, I wrote the sketch for the final project. I have integrated the functionality of the various sensors, first detecting the individual data and then crossing them to obtain a parameter of Threshold. The sensors to be used are:  <li align="justify"> Soil Moisture Sensor</li>
                <li align="justify">External Humidity Sensor</li>
                <li align="justify">External Temperature Sensor</li></p> 
                            <p>The last two sensors are assembled in one sensor: DHT11 <br> <img src="img/fp4.1.jpg" class="img-responsive" alt="" style="float: right"><br> Measure the individual sensor data was relatively simple, so for a first check I printed it on the serial monitor of the Arduino IDE after connect sensors to my board as below:
                <li align="justify">SOIL MOISTURE SENSOR+ - VCC BOARD </li>
                <li align="justify">SOIL MOISTURE SENSOR- - GND BOARD </li>
                <li align="justify">SOIL MOISTURE SENSOROUT - A0 PIN BOARD </li>
                <li align="justify">DHT11+ - VCC BOARD </li>
                <li align="justify">DHT11- - GND BOARD </li>
                <li align="justify">DHT11OUT - PIN 8 BOARD</p> <br>
                       <p> This video shows the results:</p><iframe src="https://player.vimeo.com/video/132072363" width="700" height="400" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/132072363">Final Project programming board sensors</a> from <a href="https://vimeo.com/user25115924">Claudio Pecere</a> on <a href="https://vimeo.com">Vimeo</a>.</p>
                             <p> The next step was to also connect the other two elements of the final project:</p> <li align="justify">Display LCD HD44780</li>
                <li align="justify">Potentiometer</li> <img src="img/fp4.2.jpg" class="img-responsive" alt="" style="float: right"> <br> <p>This is how to connect to an Arduino and easily to my board </p><img src="img/fp4.3.jpg" class="img-responsive" alt="" style="float: right"> <br> <p>I tried also a simple sketch, an hello world just to understand if it works </p><iframe src="https://player.vimeo.com/video/132075146" width="700" height="400" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/132075146">Final Project Output device Test</a> from <a href="https://vimeo.com/user25115924">Claudio Pecere</a> on <a href="https://vimeo.com">Vimeo</a>.</p><br><p>Now I'm ready to write the final sketch. The code should allow to receive data from the sensors, print them on LCD and process parameter "Need Water" or "soil still wet" according to the data of the soil. The display will blink the message in case of need of water. Below the connection between sensors and my board: <li align="justify">DISPLAY Pin 1 - GND </li>
                <li align="justify">DISPLAY Pin 2 - VCC </li>
                <li align="justify">DISPLAY Pin 3 - POTENTIOMETER </li>
                <li align="justify">DISPLAY Pin 4 - PIN 12 Board </li>
                <li align="justify">DISPLAY Pin 5 - GND</li>
                <li align="justify">DISPLAY Pin 6 - PIN 11 Board</li>
                <li align="justify">DISPLAY Pin 11 - PIN 5 Board</li>
                <li align="justify">DISPLAY Pin 12 - PIN 4 Board</li>
                <li align="justify">DISPLAY Pin 13 - PIN 3 Board</li>
                <li align="justify">DISPLAY Pin 14 - PIN 2 Board</li>
                <li align="justify">DISPLAY Pin 15 - VCC</li>
                <li align="justify">DISPLAY Pin 16 - GND</li>
                            <li align="justify">POTENTIOMETER - GND</li>
                            <li align="justify">POTENTIOMETER - VCC</li>
                            <li align="justify">POTENTIOMETER - DISPLAY Pin 3</li>
                            <li align="justify">DHT11 - GND</li>
                            <li align="justify">DHT11 - VCC</li>
                            <li align="justify">DHT11 (OUT) - A0</li>
                             <li align="justify">SOILMOISTURE - VCC</li>
                             <li align="justify">SOILMOISTURE - GND</li>
                             <li align="justify">SOILMOISTURE - PIN 8 BOARD</li>
 </p> <BR> <P>This is the final sketch and video related  </p><div class="notepad"><div class="titlenotepad">Final Project Sketch</div><div class="textnotepad" align=left> #include "DHT.h"
#include <LiquidCrystal.h>
#define DHTPIN 8   
#define DHTTYPE DHT11 
DHT dht(DHTPIN, DHTTYPE);
LiquidCrystal lcd(12, 11, 5, 4, 3, 2);

void setup() {
Serial.begin(9600);
lcd.begin(16, 2);
dht.begin();
}

void loop() {
double h = dht.readHumidity();
double t = dht.readTemperature();
double temper = analogRead(A0);
double m = ((1023.00-temper)/1023.00)*100.00;

if (isnan(t) || isnan(h)) {
  Serial.println("Failed to read from DHT");
  }
else {
  if (temper>700){
  lcd.noDisplay();
  delay(500);
  lcd.display();
  //delay(500);
  lcd.setCursor(0,0);
  lcd.print("Soil = DRY");
  lcd.setCursor(0,1);
  lcd.print("Need Water Now");
  
  } else if (temper>350){
  lcd.setCursor(0,0);
  lcd.print("Temp = ");
  lcd.print(t);
  lcd.print(" *C");
  lcd.setCursor(0,1);
  lcd.print("Soil = MOIST");
  delay(500);
  } else {
  lcd.setCursor(0,0);
  lcd.print("Temp = ");
  lcd.print(t);
  lcd.print(" *C");
  lcd.setCursor(0,1);
  lcd.print("Soil = SOAKED");
  delay(500);
  }
  
   
  Serial.print(m);
  Serial.print(",");
  Serial.print(t);
  Serial.print(",");
  Serial.print(h);
  Serial.print(",");
  Serial.flush();
 
  delay(500);
  
 }
}
       </div>   </div> <br><p> <iframe src="https://player.vimeo.com/video/132069591" width="700" height="400" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/132069591">Testing Final Sketch</a> from <a href="https://vimeo.com/user25115924">Claudio Pecere</a> on <a href="https://vimeo.com">Vimeo</a>.</p> 
        <br> <p> The final Sketch is available for download here: </p>
      <p> <a href="media/finalprojectsketch.ino.zip"> <button type="button" class="btn btn-primary
            btn-lg">Download files</button> </a> </p>
        <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
        
<!--Application Interface -->     <div class="portfolio-modal modal fade" id="phase5" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>Application Interface</h2>
                            <hr class="star-primary">
                            <p>In addition to printing the results of the sensors on the display I tried to design an interface in C ++ through the use of QT that I had used even in the exercise of week 14. Again I had many problems with the serial ports of Arduino and once again the solution was to use a Windows PC because the Mac did not recognize the correct serial ports. I then set the graphics in a way not so amazing since QT offers features rather basic and 80s. The interface at this stage of my final project is useful to check the results without having to use the IDE. In general, however, the functionality of the project is enough the display but the interface will surely be useful in the future when I will send the data to a web app to view them remotely. <img src="img/fp5.1.jpg" class="img-responsive" alt="" style="float: right">This interface code of QT</p><div class="notepad"><div class="titlenotepad">Final Project Sketch - dialog.cpp</div><div class="textnotepad" align=left> #include "dialog.h"
#include &lt;QApplication&gt;

int main(int argc, char *argv[])
{
    QApplication a(argc, argv);
    Dialog w;
    w.setWindowTitle("Temperature Sensor Reading");
    w.setFixedSize(650,550);
    w.show();

    return a.exec();
}
                            </div></div> <br>
<div class="titlenotepad">Final Project Sketch - main.cpp</div><div class="textnotepad" align=left> ##include "dialog.h"
#include "ui_dialog.h"
#include &lt;QSerialPort&gt;
#include &lt;QSerialPortInfo&gt;
#include &lt;string&gt;
#include &lt;QDebug&gt;
#include &lt;QMessageBox&gt;



Dialog::Dialog(QWidget *parent) :
    QDialog(parent),
    ui(new Ui::Dialog)
{
    ui-&gt;setupUi(this);
    ui-&gt;temp_lcdNumber-&gt;display("-------");
    ui-&gt;temp_lcdNumber_2-&gt;display("-------");
    ui-&gt;temp_lcdNumber_3-&gt;display("-------");
    arduino = new QSerialPort(this);
    serialBuffer = "";
    parsed_data1 = "";
    parsed_data2 = "";
    parsed_data3 = "";
    moisture_value = 0.0;
    temperature_value = 0.0;
    humidity_value = 0.0;

    /*
     *  Testing code, prints the description, vendor id, and product id of all ports.
     *  Used it to determine the values for the arduino uno.
     *
     *
    qDebug() &lt;&lt; "Number of ports: " &lt;&lt; QSerialPortInfo::availablePorts().length() &lt;&lt; "\n";
    foreach(const QSerialPortInfo &serialPortInfo, QSerialPortInfo::availablePorts()){
        qDebug() &lt;&lt; "Description: " &lt;&lt; serialPortInfo.description() &lt;&lt; "\n";
        qDebug() &lt;&lt; "Has vendor id?: " &lt;&lt; serialPortInfo.hasVendorIdentifier() &lt;&lt; "\n";
        qDebug() &lt;&lt; "Vendor ID: " &lt;&lt; serialPortInfo.vendorIdentifier() &lt;&lt; "\n";
        qDebug() &lt;&lt; "Has product id?: " &lt;&lt; serialPortInfo.hasProductIdentifier() &lt;&lt; "\n";
        qDebug() &lt;&lt; "Product ID: " &lt;&lt; serialPortInfo.productIdentifier() &lt;&lt; "\n";
    }

*/

    /*
     *   Identify the port the arduino uno is on.
     */
    bool arduino_is_available = false;
    QString arduino_uno_port_name;
    //
    //  For each available serial port
    foreach(const QSerialPortInfo &serialPortInfo, QSerialPortInfo::availablePorts()){
        //  check if the serialport has both a product identifier and a vendor identifier
        if(serialPortInfo.hasProductIdentifier() && serialPortInfo.hasVendorIdentifier()){
            //  check if the product ID and the vendor ID match those of the arduino uno
            if((serialPortInfo.productIdentifier() == arduino_uno_product_id)
                    && (serialPortInfo.vendorIdentifier() == arduino_uno_vendor_id)){
                arduino_is_available = true; //    arduino uno is available on this port
                arduino_uno_port_name = serialPortInfo.portName();
            }
        }
    }

    /*
     *  Open and configure the arduino port if available
     */
    if(arduino_is_available){
        qDebug() &lt;&lt; "Found the arduino port...\n";
        arduino-&gt;setPortName(arduino_uno_port_name);
        arduino-&gt;open(QSerialPort::ReadOnly);
        arduino-&gt;setBaudRate(QSerialPort::Baud9600);
        arduino-&gt;setDataBits(QSerialPort::Data8);
        arduino-&gt;setFlowControl(QSerialPort::NoFlowControl);
        arduino-&gt;setParity(QSerialPort::NoParity);
        arduino-&gt;setStopBits(QSerialPort::OneStop);
        QObject::connect(arduino, SIGNAL(readyRead()), this, SLOT(readSerial()));

    }else{
        qDebug() &lt;&lt; "Couldn't find the correct port for the arduino.\n";
        QMessageBox::information(this, "Serial Port Error", "Couldn't open serial port to arduino.");
    }
}

Dialog::~Dialog()
{
    if(arduino-&gt;isOpen()){
        arduino-&gt;close(); //    Close the serial port if it's open.
    }
    delete ui;
}

void Dialog::readSerial()
{
    /*
     * readyRead() doesn't guarantee that the entire message will be received all at once.
     * The message can arrive split into parts.  Need to buffer the serial data and then parse for the temperature value.
     *
     */
qDebug() &lt;&lt; "TEST";
    QStringList buffer_split = serialBuffer.split(","); //  split the serialBuffer string, parsing with ',' as the separator

    //  Check to see if there less than 3 tokens in buffer_split.
    //  If there are at least 3 then this means there were 2 commas,
    //  means there is a parsed temperature value as the second token (between 2 commas)
    if(buffer_split.length() &lt; 7){
        // no parsed value yet so continue accumulating bytes from serial in the buffer.
        serialData = arduino-&gt;readAll();
        serialBuffer = serialBuffer + QString::fromStdString(serialData.toStdString());
        serialData.clear();
    }else {
        // the second element of buffer_split is parsed correctly, update the temperature value on temp_lcdNumber
       /*Original section
        serialBuffer = "";
        qDebug() &lt;&lt; buffer_split &lt;&lt; "\n";
        parsed_data = buffer_split[1];
        temperature_value = (9/5.0) * (parsed_data.toDouble()) + 32; // convert to fahrenheit
        qDebug() &lt;&lt; "Temperature: " &lt;&lt; temperature_value &lt;&lt; "\n";
        parsed_data = QString::number(temperature_value, 'g', 4); // format precision of temperature_value to 4 digits or fewer
        Dialog::updateTemperature(parsed_data);*/

        //new section
        serialBuffer = "";

        qDebug() &lt;&lt; buffer_split &lt;&lt; "\n";

        parsed_data1 = buffer_split[0];
        parsed_data2 = buffer_split[1];
        parsed_data3 = buffer_split[2];
        moisture_value = parsed_data1.toDouble();
        temperature_value = parsed_data2.toDouble();
        humidity_value = parsed_data3.toDouble();
        qDebug() &lt;&lt; "Moisture: " &lt;&lt; moisture_value &lt;&lt; "\n";
        qDebug() &lt;&lt; "Temperature: " &lt;&lt; temperature_value &lt;&lt; "\n";
        qDebug() &lt;&lt; "Humidity: " &lt;&lt; humidity_value &lt;&lt; "\n";
        parsed_data1 = QString::number(moisture_value, 'g', 4); // format precision of value to 4 digits or fewer
        parsed_data2 = QString::number(temperature_value, 'g', 4);
        parsed_data3 = QString::number(humidity_value, 'g', 4);

        Dialog::updateMoisture(moisture_value);
        Dialog::updateTemperature(temperature_value);
        Dialog::updateHumidity(humidity_value);

        /*Dialog::updateMoisture(parsed_data1);
        Dialog::updateTemperature(parsed_data2);
        Dialog::updateHumidity(parsed_data3);*/



    }

}


void Dialog::updateTemperature(double sensor_reading)
{
    //  update the value displayed on the lcdNumber
    ui-&gt;temp_lcdNumber_2-&gt;display(sensor_reading);
}

void Dialog::updateMoisture(double sensor_reading)
{
    //  update the value displayed on the lcdNumber
    ui-&gt;temp_lcdNumber-&gt;display(sensor_reading);
}

void Dialog::updateHumidity(double sensor_reading)
{
    //  update the value displayed on the lcdNumber
    ui-&gt;temp_lcdNumber_3-&gt;display(sensor_reading);
}


/*void Dialog::updateTemperature(QString sensor_reading)
{
    //  update the value displayed on the lcdNumber
    ui-&gt;temp_lcdNumber_2-&gt;display(sensor_reading);
}

void Dialog::updateMoisture(QString sensor_reading)
{
    //  update the value displayed on the lcdNumber
    ui-&gt;temp_lcdNumber-&gt;display(sensor_reading);
}

void Dialog::updateHumidity(QString sensor_reading)
{
    //  update the value displayed on the lcdNumber
    ui-&gt;temp_lcdNumber_3-&gt;display(sensor_reading);
}
*/

       </div>   </div>
                          <br> <div class="notepad"><div class="titlenotepad">Final Project Sketch - dialog.h</div><div class="textnotepad" align=left> #ifndef DIALOG_H
#define DIALOG_H

#include &lt;QDialog&gt;
#include &lt;QSerialPort&gt;
#include &lt;QByteArray&gt;


namespace Ui {
class Dialog;
}

class Dialog : public QDialog
{
    Q_OBJECT

public:
    explicit Dialog(QWidget *parent = 0);
    ~Dialog();

private slots:
    void readSerial();
    void updateTemperature(double);
    void updateMoisture(double);
    void updateHumidity(double);

private:
    Ui::Dialog *ui;

    QSerialPort *arduino;
    static const quint16 arduino_uno_vendor_id = 9025;
    static const quint16 arduino_uno_product_id = 67;
    QByteArray serialData;
    QString serialBuffer;
    QString parsed_data1;
    QString parsed_data2;
    QString parsed_data3;
    double temperature_value;
    double moisture_value;
    double humidity_value;
};

#endif // DIALOG_H

                            </div></div> <br>
                        
                        <p> This video shows the testing of the interface</p> <iframe src="https://player.vimeo.com/video/132107195" width="700" height="400" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/132107195">Testing Application Interface</a> from <a href="https://vimeo.com/user25115924">Claudio Pecere</a> on <a href="https://vimeo.com">Vimeo</a>.</p></p><p> All the files related to the application interface are avaible here </p>
      <p> <a href="media/Application%20Interface.zip"> <button type="button" class="btn btn-primary
            btn-lg">Download files</button> </a> </p>
                            <br><button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
        
<!--Final result - extra contents -->   <div class="portfolio-modal modal fade" id="phase6" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>Final results - extra contents</h2>
                            <hr class="star-primary">
                            <p>The last phase concerns the assembly and testing of the final project. Fortunately, it works fine, although I hope to make the improvements planned in the concept stage in a few months after the end of the Fab Academy. The board, vessels, sensors and interface are now assembled.The last point that I wanted to take care of is a case for the board and annoying wires. I also designed the box but unfortunately not being at the lab in the last days, I could not cut. <img src="img/fp6.1.jpg" class="img-responsive" alt="" style="float: right"><img src="img/fp6.2.jpg" class="img-responsive" alt="" style="float: right"><img src="img/fp6.3.jpg" class="img-responsive" alt="" style="float: right"> <br> So I handcrafted a case made with silicone rubber for molds and a box of the right size. At the end it came out a result not just in line with the principles of digital fabrication but certainly useful to hide the wires at the sight of my nieces! <img src="img/fp6.4.jpg" class="img-responsive" alt="" style="float: right"><img src="img/fp6.5.jpg" class="img-responsive" alt="" style="float: right"><img src="img/fp6.6.jpg" class="img-responsive" alt="" style="float: right"><br>These are some pictures of the assembled final project and the video of the final test. <img src="img/fp6.7.jpg" class="img-responsive" alt="" style="float: right"><img src="img/fp6.8.jpg" class="img-responsive" alt="" style="float: right"><img src="img/fp6.9.jpg" class="img-responsive" alt="" style="float: right"></p> <br> <iframe src="https://player.vimeo.com/video/132069592" width="700" height="400" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/132069592">Final Project Demo</a> from <a href="https://vimeo.com/user25115924">Claudio Pecere</a> on <a href="https://vimeo.com">Vimeo</a>.</p> <br><p>Finally this is the BOM of the project</p><p> <iframe width="700" height="400" src="https://docs.google.com/spreadsheets/d/1bfNAcDm1_ZGfI9HhVwB11K06859cx14oaOVRbw9e10Q/pubhtml?gid=0&amp;single=true&amp;widget=true&amp;headers=false"></iframe></p>
                           <br> <br> <p> The file of the box not cutted is available for download here: </p>
      <p> <a href="media/caseboard.dxf.zip"> <button type="button" class="btn btn-primary
            btn-lg">Download files</button> </a> </p>
                            <br><button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

   
         <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script src="js/classie.js"></script>
    <script src="js/cbpAnimatedHeader.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="js/freelancer.js"></script>
   
</html>
