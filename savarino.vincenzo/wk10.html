<!DOCTYPE HTML>
<!--
	Miniport by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Fab Academy 2015 - Week 10</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<!--[if lte IE 8]><script src="css/ie/html5shiv.js"></script><![endif]-->
		<script src="js/jquery.min.js"></script>
		<script src="js/jquery.scrolly.min.js"></script>
		<script src="js/skel.min.js"></script>
		<script src="js/init.js"></script>
		
		<!-- Bootstrap core CSS -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="media/fabacademy.css" rel="stylesheet">
    
    <!-- 3D files viewer -->
    <script type="text/javascript" src="media/jsc3d_ie.min.js"></script>
	<script type="text/javascript" src="media/jsc3d.min.js"></script>
    <script type="text/javascript" src="media/jsc3d.webgl.js"></script>
    <script type="text/javascript" src="media/jsc3d.touch.js"></script>

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="bootstrap/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="bootstrap/js/ie-emulation-modes-warning.js"></script>
		<noscript>
			<link rel="stylesheet" href="css/skel.css" />
			<link rel="stylesheet" href="css/style.css" />
			<link rel="stylesheet" href="css/style-desktop.css" />
		</noscript>
		<!--[if lte IE 8]><link rel="stylesheet" href="css/ie/v8.css" /><![endif]-->
		<!--[if lte IE 9]><link rel="stylesheet" href="css/ie/v9.css" /><![endif]-->
		<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
		
	</head>
	<body>

		<!-- Nav -->
			<nav id="nav">
				<ul class="container">
					<li><a href="./index.html#top">Home</a></li>
					<li><a href="./index.html#work">About Me</a></li>
					<li><a href="./finalproject.html">Final Project</a></li>
					<li><a href="./index.html#class-schedule">Exercises</a></li>
					<li><a href="./index.html#contact">Contact</a></li>
				</ul>
			</nav>

		

		<!-- Work -->
			<div class="wrapper style2">
				<article id="work">
					<header>
						<h2>About Week 10</h2>
						
					</header>
					<div class="container">
						<div class="row">
							<div class="12u">
								<section class="box style1">
									<span class="icon featured fa-comments-o"></span>
									<h3>Input Devices Exercise...</h3>
									<p><img align="center" height="264" hspace="12" src="images/3dbox3.jpg" width="383" /></p>
									
									<p>For this week the assignment is about input devices in order to measure something by adding a sensor to a microcontroller board.</p>
									<p> For this assignment Massimo introduced us the <a href="http://www.fabacademy.org/archives/2015/doc/projects/fabkit-0.4.html">Fabkit</a>, an Arduino-compatible board designed by David Mells and based on an <a href="http://www.atmel.com/devices/atmega328p.aspx">ATMEGA382P</a> microcontroller.</p>
									<p>Starting from this my colleague <a href="http://fabacademy.org/archives/2015/eu/students/ingrassia.daniele/index.html">Daniele Ingrassia</a> designed a new Arduino-compatible board during Fab Academy 2015, the <a href="https://github.com/satshas/satshakit">satshakit</a>. Me and Daniele have discussed about the usage of this new board and I accepted the proposal of test it, for milling, solder and programming, mainly thinking about my final project in order to In order to replace Arduino with this board.</p>
									<p>I discussed and exchanged experiences with other colleagues about how to solder the microcontroller and for this exercise I decided to use a technique I read: the pins are not soldered one by one but serially in a row! I was thinking "difficult" but I wanted to try in order to provide a different experience. The final result was successful:</p>
							        <p><img align="center" height="400" hspace="12" src="images/wk10_1.jpg"/></p>
									<p>I continued to solder the other components until the final results:</p>
									<p><img align="center" height="400" hspace="12" src="images/wk10_2.jpg"/></p>
									<p>It was the time to program in order to use satshakit as an Arduino, that is the next step was to upload Arduino bootloader.</p>
                                    <p>As described in </p>
									<p>To upload the bootloader I need  a <strong>programmer</strong>, an Arduino:</p>

									<p><img src="https://raw.githubusercontent.com/satshas/satshakit/master/media/satshakit/programming_Arduino.jpg" width="60%" style="max-width:100%;"></p>

									<p>or myFabISP produced during week 4 assignement:</p>

									<p><img src="https://raw.githubusercontent.com/satshas/satshakit/master/media/satshakit/programming_FABIsp.jpg" width="60%" style="max-width:100%;"></p>
									<p><img align="center" height="400" hspace="12" src="images/wk10_3.jpg"/></p>
									<p>So I followed the steps:</p>

									<ol>
									<li>a)from Arduino IDE </li>
									<li>b)select USBtinyISP) </li>
									<li>c)select Arduino UNO as board</li>
									<li>d)click on tools-&gt;Burn Bootloader</li>
									</ol>

									<p>The upload went successfully and the board was recognized. It was time to test a first sketch for input exercise. For my exercises I used a potenziometer and an analog temperature sensor: tmp36</p>
                                    <p>First of all I had to connect FTDI cable:</p>
                                    <p><img align="center" height="400" hspace="12" src="https://raw.githubusercontent.com/satshas/satshakit/master/media/satshakit/programming_FTDI.jpg"/></p>
									<p>As for input sensors these can be distinguished in two categories: analog and digital . Typically, the analog sensor returns a value continuous in time , the digital provides a discrete numeric value.
                                       For the first try, read value from potentiometer, I considered as pin reading the AnalogIn 0 , consequently the voltage drop across the potentiometer is read from this pin and , digitized by a value which varies between 0 and 1023 .</p>
									<p><img align="center" height="400" hspace="12" src="images/wk10_4.jpg"/></p>
									<p><img align="center" height="400" hspace="12" src="images/wk10_5.jpg"/></p>
									<p>After this I uploaded the following sketch</p>
									

							
<p><Strong>Sketch_Input_Potenziometer</Strong></p>							
<pre class="code" style="padding: 8px; border: 1px solid grey; width: 800px; color: rgb(51, 51, 51); font-size: 14px !important; background-color: rgb(244, 244, 244);">
int potentiometerPin = 0;
int value = 0;
 
void setup()
{
    Serial.begin(9600); // setup serial port
}
 
void loop()
{
    value = analogRead(potentiometerPin); // read value from potenziometer
    Serial.println(value); // write value on serial output as debugging
    delay(500);
}
</pre>

<p>The sketch was uploaded successfully, and I tried to vary the potentiometer and read the data from Arduino IDE serial monitor</p>
<p><img align="center" height="400" hspace="12" src="images/wk10_6.jpg"/></p>

<p>The next exercise was to read the temperature value from a analog sensor. To this end I used a <a href="http://www.analog.com/en/mems-sensors/digital-temperature-sensors/tmp36/products/product.html" target="_blank"><strong>TMP36</strong> produced by Analog Device</a></p>
<p> the circuit is similar to the previous one for potentiometer, by connecting the board with TMP36 by A0 pin</p>
<p><img align="center" height="400" hspace="12" src="images/wk10_8.jpg	"/></p>
<p>The <Strong>TMP36</Strong> allows to acquire temperatures in the range between <Strong>-40 ° C</Strong> and <Strong>+ 125 ° C</Strong> by returning output values ​​of linear voltage between about <Strong>0.1Vdc and 1.7Vdc</Strong> . A variation of degree produces a change in output voltage equal to 10mV ; at a temperature of 0 ° C the sensor provides a voltage of 500mV .</p>					
<p>In order to read the temperature and provide a correct value( for example in C°) the measured value should be interpreted so as to obtain the value directly in ° C . To do this we need the datasheet of the component , namely the graphic conversion ° C / Vdc , represented in the following figure :</p>
<p><img align="center" height="400" hspace="12" src="images/Tmp36_CtoV.png	"/></p>
<p>For an output voltage of 0.5Vdc the sensor detects the temperature of 0 ° C . So  lower voltages 0.5Vdc indicate temperatures below zero . Furthermore a change of grade is reflected with a variation of voltage of 10mV . Thus if at pin A0 are present 510mV means that the sensor is detecting a temperature of 1 ° C ( 510mV - 500mV = 10 mV variation of 1 ° C ). Starting from this information the following  sketch returns the value in ° C :</p>
<p><Strong>Sketch_Input_TMP36</Strong></p>
<pre class="code" style="padding: 8px; border: 1px solid grey; width: 800px; color: rgb(51, 51, 51); font-size: 14px !important; background-color: rgb(244, 244, 244);">
int val_Adc = 0;
float temp = 0;
 
void setup()
{
  //init seriale
  Serial.begin(9600);
}
 
void loop()
{
  
  val_Adc = analogRead(0);
  temp = ((val_Adc * 0.00488) - 0.5) / 0.01;
  Serial.println(temp);
  delay(500);
}
</pre>
<p>The formula that converts the acquired value in Celsius degrees Celsius is the following</p>
<p>°C = ((valueADC * PrecisionADC) – vZero) / stepGradeV</p>
<p>where</p>
<p><Strong>° C</Strong> = the temperature in Celsius degrees </p>
<p><Strong>valueADC</Strong> = value of the conversion from analog to digital returned by analogRead</p>
<p><Strong>PrecisionADC</Strong> = This value is obtained by dividing the reference voltage of the ADC ( default 5Vdc ) and the maximum return from the conversion (1024 ) . ( 5Vdc / 1,024 = 0.00488 )</p>
<p><Strong>vZero</Strong>= indicates the output voltage from the sensor when it detects a temperature of 0 ° C</p>
<p><Strong>stepGradeV</Strong> = indicates the voltage variation for each variation of a degree ( 12:01 = 10 mV )</p>

<p><img align="center" height="400" hspace="12" src="images/wk10_9.png	"/></p>


<p>
Checking the values from serial monitor for the previous sketch the temperature values ​​are variable. Considering the accuracy of the sensor TMP36  +/- 2 ° C throughout the scale , however, the values  differ from the real value . This ' error ' is dependent on several factors including lack of precision ADC , signal noise and approximate values ​​in calculations .
</p>
<p>
A simple solution is to consider a value calculation taking into account the mean of a set of measures:
</p>

<p><Strong>Sketch_Input_TMP36_v2</Strong></p>
<pre class="code" style="padding: 8px; border: 1px solid grey; width: 800px; color: rgb(51, 51, 51); font-size: 14px !important; background-color: rgb(244, 244, 244);">

int val_Adc = 0;
float temp = 0;
 
void setup()
{
  
  Serial.begin(9600);
}
 
void loop()
{
  
  val_Adc = analogRead(0);
  
  

for(byte Ciclo = 0; Ciclo<100; Ciclo++)
{
val_Adc += analogRead(0);
delay(10);
}

val_Adc /= 100;

temp = ((val_Adc * 0.00488) - 0.5) / 0.01;

Serial.println(temp);

}
</pre>		

<p><img align="center" height="400" hspace="12" src="images/wk10_10.png	"/></p>				
							<p>&nbsp;</p>
						
								</section>
							</div>
							
							
							
							
							
							
						</div>
					</div>
					
				</article>
			</div>

		<!-- Portfolio -->
			<div class="wrapper style3">
				<article id="class-schedule">
					<header>
						<h2>Fab Academy - Class schedule 2015</h2>
						<p></p>
					</header>
					<div class="container">
						<div class="row">
							<div class="4u">
								<article class="box style2">
									<a href="wk1.html" class="image featured"><img src="images/wk1.jpg" alt="" /></a>
									<h3><a href="wk1.html">Week 1</a></h3>
									<p>Principles and Practices </p>
								</article>
							</div>
							<div class="4u">
								<article class="box style2">
									<a href="wk2.html" class="image featured"><img src="images/wk2.jpg" alt="" /></a>
									<h3><a href="wk2.html">Week 2</a></h3>
									<p>Computer-Aided Design</p>
								</article>
							</div>
							<div class="4u">
								<article class="box style2">
									<a href="wk3.html" class="image featured"><img src="images/wk3.jpg" alt="" /></a>
									<h3><a href="wk3.html">Week 3</a></h3>
									<p>Computer-Controlled Cutting</p>
								</article>
							</div>
						</div>
						<div class="row">
							<div class="4u">
								<article class="box style2">
									<a href="wk4.html" class="image featured"><img src="images/wk4.jpg" alt="" /></a>
									<h3><a href="wk4.html">Week 4</a></h3>
									<p>Electronics Production</p>
								</article>
							</div>
							<div class="4u">
								<article class="box style2">
									<a href="wk5.html" class="image featured"><img src="images/wk5.jpg" alt="" /></a>
									<h3><a href="wk5.html">Week 5</a></h3>
									<p>3D Scanning and Printing </p>
								</article>
							</div>
							<div class="4u">
								<article class="box style2">
									<a href="wk6.html" class="image featured"><img src="images/wk6.jpg" alt="" /></a>
									<h3><a href="wk6.html">Week 6</a></h3>
									<p>Electronics Design</p>
								</article>
							</div>
						</div>
						<div class="row">
							<div class="4u">
								<article class="box style2">
									<a href="wk7.html" class="image featured"><img src="images/wk7.jpg" alt="" /></a>
									<h3><a href="wk7.html">Week 7</a></h3>
									<p>Embedded Programming </p>
								</article>
							</div>
							<div class="4u">
								<article class="box style2">
									<a href="wk8.html" class="image featured"><img src="images/wk8.jpg" alt="" /></a>
									<h3><a href="wk8.html">Week 8</a></h3>
									<p>Computer-controlled machining </p>
								</article>
							</div>
							<div class="4u">
								<article class="box style2">
									<a href="wk9.html" class="image featured"><img src="images/wk9.jpg" alt="" /></a>
									<h3><a href="wk9.html">Week 9</a></h3>
									<p>Molding and Casting</p>
								</article>
							</div>
						</div>
						<div class="row">
						<div class="4u">
							<article class="box style2">
								<a href="wk10.html" class="image featured"><img src="images/wk10.jpg" alt="" /></a>
								<h3><a href="#">Week 10</a></h3>
								<p>Input Devices</p>
							</article>
						</div>
						<div class="4u">
							<article class="box style2">
								<a href="wk11.html" class="image featured"><img src="images/wk11.jpg" alt="" /></a>
								<h3><a href="wk11.html">Week 11</a></h3>
								<p>Output Devices</p>
							</article>
						</div>
						<div class="4u">
							<article class="box style2">
								<a href="wk12.html" class="image featured"><img src="images/wk12.jpg" alt="" /></a>
								<h3><a href="wk12.html">Week 12</a></h3>
								<p>Composites</p>
							</article>
						</div>
					</div>
					<div class="row">
						<div class="4u">
							<article class="box style2">
								<a href="wk13.html" class="image featured"><img src="images/wk13.jpg" alt="" /></a>
								<h3><a href="#">Week 13</a></h3>
								<p>Networking and Communications</p>
							</article>
						</div>
						<div class="4u">
							<article class="box style2">
								<a href="wk14.html" class="image featured"><img src="images/wk14.jpg" alt="" /></a>
								<h3><a href="wk14.html">Week 14</a></h3>
								<p>Interface and application programming</p>
							</article>
						</div>
						<div class="4u">
							<article class="box style2">
								<a href="wk15.html" class="image featured"><img src="images/wk15.jpg" alt="" /></a>
								<h3><a href="wk15.html">Week 15</a></h3>
								<p>Mechanical Design, Machine Design</p>
							</article>
						</div>
					</div>
					<div class="row">
						<div class="4u">
							<article class="box style2">
								<a href="finalproject.html" class="image featured"><img src="images/wk16.jpg" alt="" /></a>
								<h3><a href="finalproject.html">Week 16</a></h3>
								<p>Applications and Implications</p>
							</article>
						</div>
						<div class="4u">
							<article class="box style2">
								<a href="finalproject.html" class="image featured"><img src="images/wk17.jpg" alt="" /></a>
								<h3><a href="finalproject.html">Week 17</a></h3>
								<p>Invention, Intellectual Property, and Income</p>
							</article>
						</div>
						<div class="4u">
							<article class="box style2">
								<a href="finalproject.html" class="image featured"><img src="images/wk18.jpg" alt="" /></a>
								<h3><a href="finalproject.html">Week 18</a></h3>
								<p>Project Development</p>
							</article>
						</div>
						
					</div>
					<div class="row">
						<div class="4u">
							<article class="box style2">
								<a href="presentation.png" class="image featured"><img src="images/wk19.jpg" alt="" /></a>
								<h3><a href="presentation.png">Week 19</a></h3>
								<p>Project Presentation</p>
							</article>
						</div>
						
						
					</div>
					</div>
					<footer>
						<a href="#contact" class="button big scrolly">Get in touch with me</a>
					</footer>
				</article>
			</div>

		<!-- Contact -->
			<div class="wrapper style4">
				<article id="contact" class="container 75%">
					<header>
						<h2>More information and suggestions</h2>
						<p>please Keep in Touch!</p>
					</header>
					<div>
						<div class="row">
							<div class="12u">
								<form method="post" action="MAILTO:vincenzo.savarino@gmail.com">
									<div>
										<div class="row">
											<div class="6u">
												<input type="text" name="name" id="name" placeholder="Name" />
											</div>
											<div class="6u">
												<input type="text" name="email" id="email" placeholder="Email" />
											</div>
										</div>
										<div class="row">
											<div class="12u">
												<input type="text" name="subject" id="subject" placeholder="Subject" value="[Fab Academy]"/>
											</div>
										</div>
										<div class="row">
											<div class="12u">
												<textarea name="message" id="message" placeholder="Message"></textarea>
											</div>
										</div>
										<div class="row 200%">
											<div class="12u">
												<ul class="actions">
													<li><input type="submit" value="Send Message" /></li>
													<li><input type="reset" value="Clear Form" class="alt" /></li>
												</ul>
											</div>
										</div>
									</div>
								</form>
							</div>
						</div>
						
					</div>
				<footer>
						<ul id="copyright">
							<li>This work is released under the <a href="http://creativecommons.org/licenses/by/3.0/" target=_blank>CCA license</a>    </li><li>Design: <a href="http://html5up.net" target=_blank>HTML5 UP</a></li>
						</ul>
					</footer>	
				</article>
			</div>

	</body>
</html>