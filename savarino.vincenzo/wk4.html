<!DOCTYPE HTML>
<!--
	Miniport by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Fab Academy 2015 - Week 4</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<!--[if lte IE 8]><script src="css/ie/html5shiv.js"></script><![endif]-->
		<script src="js/jquery.min.js"></script>
		<script src="js/jquery.scrolly.min.js"></script>
		<script src="js/skel.min.js"></script>
		<script src="js/init.js"></script>
		
		<!-- Bootstrap core CSS -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="media/fabacademy.css" rel="stylesheet">
    
    <!-- 3D files viewer -->
    <script type="text/javascript" src="media/jsc3d_ie.min.js"></script>
	<script type="text/javascript" src="media/jsc3d.min.js"></script>
    <script type="text/javascript" src="media/jsc3d.webgl.js"></script>
    <script type="text/javascript" src="media/jsc3d.touch.js"></script>

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="bootstrap/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="bootstrap/js/ie-emulation-modes-warning.js"></script>
		<noscript>
			<link rel="stylesheet" href="css/skel.css" />
			<link rel="stylesheet" href="css/style.css" />
			<link rel="stylesheet" href="css/style-desktop.css" />
		</noscript>
		<!--[if lte IE 8]><link rel="stylesheet" href="css/ie/v8.css" /><![endif]-->
		<!--[if lte IE 9]><link rel="stylesheet" href="css/ie/v9.css" /><![endif]-->
		<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
		
	</head>
	<body>

		<!-- Nav -->
			<nav id="nav">
				<ul class="container">
					<li><a href="./index.html#top">Home</a></li>
					<li><a href="./index.html#work">About Me</a></li>
					<li><a href="./finalproject.html">Final Project</a></li
					<li><a href="./index.html#class-schedule">Fab Academy</a></li>
					<li><a href="./index.html#contact">Contact</a></li>
				</ul>
			</nav>

		

		<!-- Work -->
			<div class="wrapper style2">
				<article id="work">
					<header>
						<h2>About Week 4</h2>
						
					</header>
					<div class="container">
						<div class="row">
							<div class="12u">
								<section class="box style1">
									<span class="icon featured fa-comments-o"></span>
									<h3>My Electronics Production Exercise...</h3>
									<p><img align="center" height="264" hspace="12" src="images/3dbox3.jpg" width="383" /></p>
									<p>This week assignment was about Electronics Production and in particular to make the FabISP in-circuit programmer: milling the board, stuffing it with components and finaly program it. As reported in <a href="http://www.fabacademy.org/archives/2015/doc/electronics_production_FabISP.html" target=_blank>tutorial</a> "the FabISP is an in-system programmer for AVR microcontrollers, designed for production within a FabLab. It allows you to program the microcontrollers on other boards you make". </p>
									<p>The first step was to download the board traces <a href="http://academy.cba.mit.edu/classes/embedded_programming/hello.ISP.44.traces.png" target=_blank><img src="http://academy.cba.mit.edu/classes/embedded_programming/hello.ISP.44.traces.png" alt="&quot;&quot;" width="200" border="0"></a> and  board outline <a href="&quot;http://academy.cba.mit.edu/classes/embedded_programming/hello.ISP.44.png&quot;" target=_blank><img src="http://academy.cba.mit.edu/classes/embedded_programming/hello.ISP.44.interior.png" alt="&quot;&quot;" width="200"> </a></p>
									<p>I imported them in Inkscape, I vectorized the png, I signed it and I putted a red border for cutting</p>
									<p><img align="center"  hspace="12" src="images/myfabispsvg.jpg"  width="200"/></p>
									<p>Ready for engraving and cutting...</p>
																		
									<p>Thanks to the experimentations made by  <a href="http://fabacademy.org/archives/2015/eu/students/bassi.enrico/exercise04.html" target=_blank>Enrico Bassi</a>, in OpenDot it is possible to use a Trotec laser cutter machine to engrave and cut FR-1 sheets. This laser cutter has two different kind of laser beams, CO2 and fiber. We used fiber laser to engrave and completely remove copper from the FR-1 surface, and C02 laser to cut the board. With the support of my collegue Daniele Ingrassia I've produced my FabISP: as I'm new with electronic production two copies are better!</p>
									
									 <p><img align="center"  hspace="12" src="images/myfabisp.jpg"  /></p>
									 
									 <p>it is time to stuff it with components....Before starting I collected several soldering tutorials and tips, and discussed with my collegue Daniele. For the step by step soldering process I followed <a href="http://www.fabacademy.org/archives/2015/doc/electronics_production_FabISP.html"> Fab Academy tutorial</a>.</p>
									 
									 <p><img align="center"  hspace="12" src="images/fabispsolder1.jpg"  /></p>
									
  									 <p><img align="center"  hspace="12" src="images/fabispsolder2.jpg"  /></p>
									 
									 									 
									 <p><img align="center"  hspace="12" src="images/fabispsolder3.jpg"  /></p>
									 
									 <p>After long several steps I realized that two 100 ohm resistor were missing and I was at home! My mistake was not to check and prepare all components from my component box. I remembered of some board of a broken fax and I searched for two resistors with code 1000. I found them with code (after checking <a href="www.hobby-hour.com/electronics/smdcalc.php"> SMD resistor code</a>) 101, one very smaller. I desoldered and used them. </p>
									 
									 
									 <p><img align="center"  hspace="12" src="images/fabispsolder4.jpg"  /></p>
									 
									 <p><img align="center"  hspace="12" src="images/fabispsolder5.jpg"  /></p>
									 
									 
									 <p>Once soldered all components and verified with a multimeter possible short circuits and I made my Smoke Test: OK!</p>
									 <p>It was time to program FabISP. To do this I used an  <a href="http://www.fabacademy.org/archives/2015/doc/arduinoisp.html">  Arduino UNO as programmer</a>. I downloaded the firmware and installed WinAVR. I've done a backup of my System PATH variables  as suggested in tutorial but after installation I realized in my Windows 7 OS that the installation maintained my PATH variable configuration.  </p>
									 
									 <p>Inside the Makefile for the configuration of  FabISP firmware, after checking the port of my Arduino , I modified the following line:</p> 

<p><strong>AVRDUDE = avrdude -c stk500v1 -b19200 -P COM4 -p $(DEVICE)</strong></p>

<p>I connected Arduino and my FabISP as reported on the top of comment section of ArduinoISP sketch:<p>

<div class=boxed>
<p>// slave reset: 	10</p>
<p>// MOSI:        	11</p>
<p>// MISO:       	 12</p>
<p>// SCK:        	 13</p>

</div>
									 
									 <p><img align="center"  hspace="12" src="images/fabispmake01.jpg"  /></p>
									 
									 <p><img align="center"  hspace="12" src="images/fabispmake02.jpg"  /></p>
									 
<p>My first try failed because I forgot to upload the Arduino sketch! Once uploaded I restarted the programming steps

<ul>
	<li>> make clean </li>
	<li>> make hex </li>
	<li>> make fuse</li>
    <li>> make program</li>	
</ul>

<p>									 
									 
									 <div class="boxed">
									 
									 <p "color:#FFFFFF;">D:\FabAcademy_Files\ElectronicProduction\firmware\fabISP_mac.0.8.2_firmware&gt;<br />
D:\FabAcademy_Files\ElectronicProduction\firmware\fabISP_mac.0.8.2_firmware&gt;make clean<br />
rm -f main.hex main.lst main.obj main.cof main.list main.map main.eep.hex main.elf *.o usbdrv/*.o main.s usbdrv/oddebug.s usbdrv/usbdrv.s</p>

<p>D:\FabAcademy_Files\ElectronicProduction\firmware\fabISP_mac.0.8.2_firmware&gt;make hex<br />
avr-gcc -Wall -Os -DF_CPU=20000000 &nbsp; &nbsp; &nbsp; -Iusbdrv -I. -DDEBUG_LEVEL=0 -mmcu=attiny44 -c usbdrv/usbdrv.c -o usbdrv/usbdrv.o<br />
avr-gcc -Wall -Os -DF_CPU=20000000 &nbsp; &nbsp; &nbsp; -Iusbdrv -I. -DDEBUG_LEVEL=0 -mmcu=attiny44 -x assembler-with-cpp -c usbdrv/usbdrvasm.s -o usbdrv/usbdrvasm.o<br />
avr-gcc -Wall -Os -DF_CPU=20000000 &nbsp; &nbsp; &nbsp; -Iusbdrv -I. -DDEBUG_LEVEL=0 -mmcu=attiny44 -c usbdrv/oddebug.c -o usbdrv/oddebug.o<br />
avr-gcc -Wall -Os -DF_CPU=20000000 &nbsp; &nbsp; &nbsp; -Iusbdrv -I. -DDEBUG_LEVEL=0 -mmcu=attiny44 -c main.c -o main.o<br />
avr-gcc -Wall -Os -DF_CPU=20000000 &nbsp; &nbsp; &nbsp; -Iusbdrv -I. -DDEBUG_LEVEL=0 -mmcu=attiny44 -o main.elf usbdrv/usbdrv.o usbdrv/usbdrvasm.o usbdrv/oddebug.o main.o<br />
rm -f main.hex main.eep.hex<br />
avr-objcopy -j .text -j .data -O ihex main.elf main.hex<br />
avr-size main.hex<br />
&nbsp; &nbsp;text &nbsp; &nbsp;data &nbsp; &nbsp; bss &nbsp; &nbsp; dec &nbsp; &nbsp; hex filename<br />
&nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp;2050 &nbsp; &nbsp; &nbsp; 0 &nbsp; &nbsp;2050 &nbsp; &nbsp; 802 main.hex</p>

<p>D:\FabAcademy_Files\ElectronicProduction\firmware\fabISP_mac.0.8.2_firmware&gt;make fuse<br />
avrdude -c stk500v1 -b19200 -P COM4 -p attiny44 -U hfuse:w:0xDF:m -U lfuse:w:0xFF:m</p>

<p>avrdude: please define PAGEL and BS2 signals in the configuration file for part ATtiny44<br />
avrdude: AVR device initialized and ready to accept instructions</p>

<p>Reading | ################################################## | 100% 0.07s</p>

<p>avrdude: Device signature = 0x1e9207<br />
avrdude: reading input file "0xDF"<br />
avrdude: writing hfuse (1 bytes):</p>

<p>Writing | ################################################## | 100% 0.01s</p>

<p>avrdude: 1 bytes of hfuse written<br />
avrdude: verifying hfuse memory against 0xDF:<br />
avrdude: load data hfuse data from input file 0xDF:<br />
avrdude: input file 0xDF contains 1 bytes<br />
avrdude: reading on-chip hfuse data:</p>

<p>Reading | ################################################## | 100% 0.02s</p>

<p>avrdude: verifying ...<br />
avrdude: 1 bytes of hfuse verified<br />
avrdude: reading input file "0xFF"<br />
avrdude: writing lfuse (1 bytes):</p>

<p>Writing | ################################################## | 100% 0.06s</p>

<p>avrdude: 1 bytes of lfuse written<br />
avrdude: verifying lfuse memory against 0xFF:<br />
avrdude: load data lfuse data from input file 0xFF:<br />
avrdude: input file 0xFF contains 1 bytes<br />
avrdude: reading on-chip lfuse data:</p>

<p>Reading | ################################################## | 100% 0.02s</p>

<p>avrdude: verifying ...<br />
avrdude: 1 bytes of lfuse verified</p>

<p>avrdude: safemode: Fuses OK</p>

<p>avrdude done. &nbsp;Thank you.</p>

<p><br />
D:\FabAcademy_Files\ElectronicProduction\firmware\fabISP_mac.0.8.2_firmware&gt;make program<br />
avrdude -c stk500v1 -b19200 -P COM4 -p attiny44 -U flash:w:main.hex:i</p>

<p>avrdude: please define PAGEL and BS2 signals in the configuration file for part ATtiny44<br />
avrdude: AVR device initialized and ready to accept instructions</p>

<p>Reading | ################################################## | 100% 0.07s</p>

<p>avrdude: Device signature = 0x1e9207<br />
avrdude: NOTE: FLASH memory has been specified, an erase cycle will be performed<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;To disable this feature, specify the -D option.<br />
avrdude: erasing chip<br />
avrdude: please define PAGEL and BS2 signals in the configuration file for part ATtiny44<br />
avrdude: reading input file "main.hex"<br />
avrdude: writing flash (2050 bytes):</p>

<p>Writing | ################################################## | 100% 3.49s</p>

<p>avrdude: 2050 bytes of flash written<br />
avrdude: verifying flash memory against main.hex:<br />
avrdude: load data flash data from input file main.hex:<br />
avrdude: input file main.hex contains 2050 bytes<br />
avrdude: reading on-chip flash data:</p>

<p>Reading | ################################################## | 100% 2.52s</p>

<p>avrdude: verifying ...<br />
avrdude: 2050 bytes of flash verified</p>

<p>avrdude: safemode: Fuses OK</p>

<p>avrdude done. &nbsp;Thank you.</p>

<p>avrdude -c stk500v1 -b19200 -P COM4 -p attiny44 -U hfuse:w:0xDF:m -U lfuse:w:0xFF:m</p>

<p>avrdude: please define PAGEL and BS2 signals in the configuration file for part ATtiny44<br />
avrdude: AVR device initialized and ready to accept instructions</p>

<p>Reading | ################################################## | 100% 0.07s</p>

<p>avrdude: Device signature = 0x1e9207<br />
avrdude: reading input file "0xDF"<br />
avrdude: writing hfuse (1 bytes):</p>

<p>Writing | ################################################## | 100% 0.02s</p>

<p>avrdude: 1 bytes of hfuse written<br />
avrdude: verifying hfuse memory against 0xDF:<br />
avrdude: load data hfuse data from input file 0xDF:<br />
avrdude: input file 0xDF contains 1 bytes<br />
avrdude: reading on-chip hfuse data:</p>

<p>Reading | ################################################## | 100% 0.02s</p>

<p>avrdude: verifying ...<br />
avrdude: 1 bytes of hfuse verified<br />
avrdude: reading input file "0xFF"<br />
avrdude: writing lfuse (1 bytes):</p>

<p>Writing | ################################################## | 100% 0.03s</p>

<p>avrdude: 1 bytes of lfuse written<br />
avrdude: verifying lfuse memory against 0xFF:<br />
avrdude: load data lfuse data from input file 0xFF:<br />
avrdude: input file 0xFF contains 1 bytes<br />
avrdude: reading on-chip lfuse data:</p>

<p>Reading | ################################################## | 100% 0.02s</p>

<p>avrdude: verifying ...<br />
avrdude: 1 bytes of lfuse verified</p>

<p>avrdude: safemode: Fuses OK</p>

<p>avrdude done. &nbsp;Thank you.</p>

<p><br />
D:\FabAcademy_Files\ElectronicProduction\firmware\fabISP_mac.0.8.2_firmware&gt;</p>

</div>									 

<p>I tested if FabISP has been recognized by Windows 7 but I realized that no drivers were available despite I've installed it following the step by step     <a href="http://www.fabacademy.org/archives/2015/doc/programming_FabISP.html#windows">   Fab Academy tutorial</a>. So I retried to provide drivers by selecting the drivers path and finally it recognized without drivers errors: </p>

 <p><img align="center"  hspace="12" src="images/fabispmake03.jpg"  /></p>
								
<p>The final step was to remove the  SJ1 zero ohm resistor  and SJ2 solder jumpers in order to make the FabISP to be a programmer</p>
								
								
								
	
	
<p>&nbsp;</p>
								</section>
							</div>
							
							
							
							
							
							
						</div>
					</div>
					
				</article>
			</div>

		<!-- Portfolio -->
			<div class="wrapper style3">
				<article id="class-schedule">
					<header>
						<h2>Fab Academy - Class schedule 2015</h2>
						<p></p>
					</header>
					<div class="container">
						<div class="row">
							<div class="4u">
								<article class="box style2">
									<a href="wk1.html" class="image featured"><img src="images/wk1.jpg" alt="" /></a>
									<h3><a href="wk1.html">Week 1</a></h3>
									<p>Principles and Practices </p>
								</article>
							</div>
							<div class="4u">
								<article class="box style2">
									<a href="wk2.html" class="image featured"><img src="images/wk2.jpg" alt="" /></a>
									<h3><a href="wk2.html">Week 2</a></h3>
									<p>Computer-Aided Design</p>
								</article>
							</div>
							<div class="4u">
								<article class="box style2">
									<a href="wk3.html" class="image featured"><img src="images/wk3.jpg" alt="" /></a>
									<h3><a href="wk3.html">Week 3</a></h3>
									<p>Computer-Controlled Cutting</p>
								</article>
							</div>
						</div>
						<div class="row">
							<div class="4u">
								<article class="box style2">
									<a href="wk4.html" class="image featured"><img src="images/wk4.jpg" alt="" /></a>
									<h3><a href="wk4.html">Week 4</a></h3>
									<p>Electronics Production</p>
								</article>
							</div>
							<div class="4u">
								<article class="box style2">
									<a href="wk5.html" class="image featured"><img src="images/wk5.jpg" alt="" /></a>
									<h3><a href="wk5.html">Week 5</a></h3>
									<p>3D Scanning and Printing </p>
								</article>
							</div>
							<div class="4u">
								<article class="box style2">
									<a href="wk6.html" class="image featured"><img src="images/wk6.jpg" alt="" /></a>
									<h3><a href="wk6.html">Week 6</a></h3>
									<p>Electronics Design</p>
								</article>
							</div>
						</div>
						<div class="row">
							<div class="4u">
								<article class="box style2">
									<a href="wk7.html" class="image featured"><img src="images/wk7.jpg" alt="" /></a>
									<h3><a href="wk7.html">Week 7</a></h3>
									<p>Embedded Programming </p>
								</article>
							</div>
							<div class="4u">
								<article class="box style2">
									<a href="wk8.html" class="image featured"><img src="images/wk8.jpg" alt="" /></a>
									<h3><a href="wk8.html">Week 8</a></h3>
									<p>Computer-controlled machining </p>
								</article>
							</div>
							<div class="4u">
								<article class="box style2">
									<a href="wk9.html" class="image featured"><img src="images/wk9.jpg" alt="" /></a>
									<h3><a href="wk9.html">Week 9</a></h3>
									<p>Molding and Casting</p>
								</article>
							</div>
						</div>
						<div class="row">
							<div class="4u">
								<article class="box style2">
									<a href="#" class="image featured"><img src="images/pic01.jpg" alt="" /></a>
									<h3><a href="#">Week 10</a></h3>
									<p>Input Devices</p>
								</article>
							</div>
							<div class="4u">
								<article class="box style2">
									<a href="#" class="image featured"><img src="images/pic01.jpg" alt="" /></a>
									<h3><a href="#">Week 11</a></h3>
									<p>Output Devices</p>
								</article>
							</div>
							<div class="4u">
								<article class="box style2">
									<a href="#" class="image featured"><img src="images/pic01.jpg" alt="" /></a>
									<h3><a href="#">Week 12</a></h3>
									<p>Composites</p>
								</article>
							</div>
						</div>
						<div class="row">
							<div class="4u">
								<article class="box style2">
									<a href="#" class="image featured"><img src="images/pic01.jpg" alt="" /></a>
									<h3><a href="#">Week 13</a></h3>
									<p>Networking and Communications</p>
								</article>
							</div>
							<div class="4u">
								<article class="box style2">
									<a href="#" class="image featured"><img src="images/pic01.jpg" alt="" /></a>
									<h3><a href="#">Week 14</a></h3>
									<p>Mechanical Design, Machine Design</p>
								</article>
							</div>
							<div class="4u">
								<article class="box style2">
									<a href="#" class="image featured"><img src="images/pic01.jpg" alt="" /></a>
									<h3><a href="#">Week 15</a></h3>
									<p>Interface and application programming</p>
								</article>
							</div>
						</div>
						<div class="row">
							<div class="4u">
								<article class="box style2">
									<a href="#" class="image featured"><img src="images/pic01.jpg" alt="" /></a>
									<h3><a href="#">Week 16</a></h3>
									<p>Applications and Implications</p>
								</article>
							</div>
							<div class="4u">
								<article class="box style2">
									<a href="#" class="image featured"><img src="images/pic01.jpg" alt="" /></a>
									<h3><a href="#">Week 17</a></h3>
									<p>Invention, Intellectual Property, and Income</p>
								</article>
							</div>
							<div class="4u">
								<article class="box style2">
									<a href="#" class="image featured"><img src="images/pic01.jpg" alt="" /></a>
									<h3><a href="#">Week 18</a></h3>
									<p>Project Development</p>
								</article>
							</div>
							
						</div>
						<div class="row">
							<div class="4u">
								<article class="box style2">
									<a href="#" class="image featured"><img src="images/pic01.jpg" alt="" /></a>
									<h3><a href="#">Week 19</a></h3>
									<p>Project Presentation</p>
								</article>
							</div>
							
							
						</div>
					</div>
					<footer>
						<a href="#contact" class="button big scrolly">Get in touch with me</a>
					</footer>
				</article>
			</div>

		<!-- Contact -->
			<div class="wrapper style4">
				<article id="contact" class="container 75%">
					<header>
						<h2>More information and suggestions</h2>
						<p>please Keep in Touch!</p>
					</header>
					<div>
						<div class="row">
							<div class="12u">
								<form method="post" action="MAILTO:vincenzo.savarino@gmail.com">
									<div>
										<div class="row">
											<div class="6u">
												<input type="text" name="name" id="name" placeholder="Name" />
											</div>
											<div class="6u">
												<input type="text" name="email" id="email" placeholder="Email" />
											</div>
										</div>
										<div class="row">
											<div class="12u">
												<input type="text" name="subject" id="subject" placeholder="Subject" value="[Fab Academy]"/>
											</div>
										</div>
										<div class="row">
											<div class="12u">
												<textarea name="message" id="message" placeholder="Message"></textarea>
											</div>
										</div>
										<div class="row 200%">
											<div class="12u">
												<ul class="actions">
													<li><input type="submit" value="Send Message" /></li>
													<li><input type="reset" value="Clear Form" class="alt" /></li>
												</ul>
											</div>
										</div>
									</div>
								</form>
							</div>
						</div>
						
					</div>
				<footer>
						<ul id="copyright">
							<li>This work is released under the <a href="http://creativecommons.org/licenses/by/3.0/" target=_blank>CCA license</a>    </li><li>Design: <a href="http://html5up.net" target=_blank>HTML5 UP</a></li>
						</ul>
					</footer>	
				</article>
			</div>

	</body>
</html>